<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Ruairí's Blog]]></title><description><![CDATA[A blog.]]></description><link>https://ruarfff.com</link><generator>GatsbyJS</generator><lastBuildDate>Sun, 07 Mar 2021 23:47:39 GMT</lastBuildDate><item><title><![CDATA[Tech stuff found in the second half of 2020]]></title><description><![CDATA[2020 has not been the best year ever but with more time at home and less time commuting I did find time to read and discover more online…]]></description><link>https://ruarfff.com/tech-stuff-found-2nd-half-2020/</link><guid isPermaLink="false">https://ruarfff.com/tech-stuff-found-2nd-half-2020/</guid><pubDate>Thu, 31 Dec 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;2020 has not been the best year ever but with more time at home and less time commuting I did find time to read and discover more online. The following is a list of the best resources I have found while trying to become a better developer in the second half of 2020.&lt;/p&gt;
&lt;h2&gt;Contents&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#community&quot;&gt;Community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#projects-and-tools&quot;&gt;Projects&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#learning-and-practice&quot;&gt;Learning&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#good-news&quot;&gt;Good News&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#videos&quot;&gt;Videos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#articles-and-sites&quot;&gt;Articles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#podcasts&quot;&gt;Podcasts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#conferences&quot;&gt;Conferences&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#books&quot;&gt;Books&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#funny&quot;&gt;Funny&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#gadgets&quot;&gt;Gadgets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#coding-music&quot;&gt;Coding Music&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Community &lt;a name=&quot;community&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;In the second half of this year, I discovered &lt;a href=&quot;https://www.indiehackers.com/&quot;&gt;Indie Hackers&lt;/a&gt;. I really like the content and ideas there. If you are looking to work on a side project it’s certainly worth a look.&lt;/p&gt;
&lt;h2&gt;Projects and Tools &lt;a name=&quot;projects-and-tools&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;A brief list of the best tools I discovered and used recently.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://backstage.io/&quot;&gt;Backstage&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When I worked at Spotify I was blown away by the internal tooling and how quickly I could get set up and deploying code. I got to use an early version of the developer portal there which has since been opensourced. We are using this at my company now and it’s really worth a look if you want a nice way to do internal tooling.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/backstage/backstage&quot;&gt;Backtsage GitHub repo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.hashicorp.com/blog/hashicorp-boundary&quot;&gt;Hashicorp Boundary&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Most access tools I’ve had to use kind of suck if your job is actually making stuff (looking at you Cyberark). &lt;a href=&quot;https://www.boundaryproject.io/&quot;&gt;Hashicorp Boundary&lt;/a&gt; looks like a really promising alternative so far.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.blog/2020-09-17-github-cli-1-0-is-now-available/&quot;&gt;GitHub CLI&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;GitHub CLI is a great tool and a lot of fun to use.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cli/cli&quot;&gt;GitHub CLI repo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://sizzy.co/&quot;&gt;Sizzy&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A browser for devs that is very cool.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kubectl&quot;&gt;ZSH Kubectl plugin&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I use &lt;a href=&quot;https://www.zsh.org/&quot;&gt;zsh&lt;/a&gt; + &lt;a href=&quot;https://github.com/ohmyzsh/ohmyzsh&quot;&gt;ohmyzsh&lt;/a&gt; and I work with Kubernetes a bit. It only occurred to me to use the kubectl plugin for zsh recently which is silly but I am happy I am using it now.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.jetbrains.com/help/idea/code-with-me.html&quot;&gt;Jetbrains Code with me&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;VSCode has had &lt;a href=&quot;https://code.visualstudio.com/learn/collaboration/live-share&quot;&gt;Live Share&lt;/a&gt; for a while. A lot of people prefer Jetbrains tools though so I was happy to see this: &lt;a href=&quot;https://www.jetbrains.com/help/idea/code-with-me.html&quot;&gt;https://www.jetbrains.com/help/idea/code-with-me.html&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Learning and Practice &lt;a name=&quot;learning-and-practice&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;This article encouraged me to make this list &lt;a href=&quot;https://www.learninpublic.org/v1-principles-learn-in-public.pdf&quot;&gt;https://www.learninpublic.org/v1-principles-learn-in-public.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://testingjavascript.com/&quot;&gt;Testing JavaScript&lt;/a&gt; is unfortunately quite expensive but this is a subject I keep struggling with despite having a lot of experience with it. That course has changed how I think about writing tests in JavaScript and has made me feel more confident that I understand what’s going on now.&lt;/p&gt;
&lt;p&gt;If you want to learn about using GCP (Google Cloud Platform), &lt;a href=&quot;https://www.qwiklabs.com/&quot;&gt;QwikLabs&lt;/a&gt; is a great resource where you learn by doing.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://repl.it/&quot;&gt;repl.it&lt;/a&gt; is a site that seems to consistently deliver amazing content and is also a very nice site to use. I recommend signing up for the newsletter.&lt;/p&gt;
&lt;p&gt;I am not looking to interview soon but I suffer serious interview anxiety. To help reduce the stress I practice as often as I can. I love the 30 days challenges at &lt;a href=&quot;https://leetcode.com/&quot;&gt;LeetCode&lt;/a&gt;.
My last attempt (I didn’t finish the month) &lt;a href=&quot;https://github.com/ruarfff/leetcode-typescript-practice&quot;&gt;https://github.com/ruarfff/leetcode-typescript-practice&lt;/a&gt;.
Will try again in January.&lt;/p&gt;
&lt;p&gt;I love to code games but I haven’t done much of that since college. I get to dabble a little in it using &lt;a href=&quot;https://screeps.com/&quot;&gt;Screeps&lt;/a&gt;. An RTS game where you code the AI for your units. It’s a lot of fun and good coding practice.&lt;/p&gt;
&lt;p&gt;This is my admittedly poor attempt so far: &lt;a href=&quot;https://github.com/ruarfff/screeps-scripts&quot;&gt;https://github.com/ruarfff/screeps-scripts&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This massive list of resources to learn and practice with:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/charlax/professional-programming&quot;&gt;https://github.com/charlax/professional-programming&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Good News &lt;a name=&quot;good-news&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Just some good tech news I came across recently.&lt;/p&gt;
&lt;p&gt;I did not realise that cookie banners were only required if you use cookies not needed for a site to function i.e. evil tracking cookies and the like. This is good news from GitHub:
&lt;a href=&quot;https://github.blog/2020-12-17-no-cookie-for-you/&quot;&gt;https://github.blog/2020-12-17-no-cookie-for-you/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I love Hashicorp. I for sure might be wrong but I consider this good news for people like me who spend a lot of time automating deployments and I am very much looking forward to trying it out: &lt;a href=&quot;https://www.hashicorp.com/blog/announcing-waypoint&quot;&gt;https://www.hashicorp.com/blog/announcing-waypoint&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Videos &lt;a name=&quot;videos&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I could watch GeePaw code all day. There’s something so modest and natural about this series. It doesn’t make me feel stupid and I am learning a lot from it: &lt;a href=&quot;https://www.geepawhill.org/series/real-programming/&quot;&gt;https://www.geepawhill.org/series/real-programming/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Rich Hickey is a great speaker and &lt;a href=&quot;https://clojure.org/&quot;&gt;clojure&lt;/a&gt; is my most favourite language I never use for anything:&lt;/p&gt;
&lt;iframe
        width=&quot;560&quot;
        height=&quot;400&quot;
        src=&quot;https://www.youtube.com/embed/MCZ3YgeEUPg&quot;
        frameborder=&quot;0&quot;
        allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot;
        allowfullscreen&gt;
    &lt;/iframe&gt;
&lt;p&gt;If you have been struggling to get going with machine learning despite lots of &lt;a href=&quot;https://www.coursera.org/&quot;&gt;Coursera&lt;/a&gt; courses done, the insights here might be interesting to you:&lt;/p&gt;
&lt;iframe
        width=&quot;560&quot;
        height=&quot;400&quot;
        src=&quot;https://www.youtube.com/embed/EHXwFhitqvo&quot;
        frameborder=&quot;0&quot;
        allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot;
        allowfullscreen&gt;
    &lt;/iframe&gt;
&lt;h2&gt;Articles and Sites &lt;a name=&quot;articles-and-sites&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Despite all the improvements in hardware, software performance, in general, doesn’t feel like it has improved at the same speed. This is an interesting read on that subject:
&lt;a href=&quot;https://fabiensanglard.net/silicone/&quot;&gt;https://fabiensanglard.net/silicone/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Some crazy JavaScript demos: &lt;a href=&quot;https://www.dwitter.net/&quot;&gt;https://www.dwitter.net/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Something I used in college but only rediscovered recently &lt;a href=&quot;https://processing.org/&quot;&gt;https://processing.org/&lt;/a&gt;. It’s a very interesting project to help with visualisations in code.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.geepawhill.org/&quot;&gt;GeePaw&lt;/a&gt; is great. These articles are particularly good ones I read recently:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.geepawhill.org/2020/07/17/the-rat-rework-avoidance-theory/&quot;&gt;https://www.geepawhill.org/2020/07/17/the-rat-rework-avoidance-theory/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.geepawhill.org/2020/08/14/pathing-a-style-of-laying-out-work/&quot;&gt;https://www.geepawhill.org/2020/08/14/pathing-a-style-of-laying-out-work/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I don’t think I will ever go into management but I still love every post by &lt;a href=&quot;https://twitter.com/mipsytipsy&quot;&gt;@mipsytipsy&lt;/a&gt; at &lt;a href=&quot;https://charity.wtf/&quot;&gt;https://charity.wtf/&lt;/a&gt;. I appreciate the extra insight I get about management.&lt;/p&gt;
&lt;p&gt;If you have worked in a “big corp”, you have almost certainly encountered bad COTS (“commercial, off the shelf” software): &lt;a href=&quot;https://sboots.ca/2020/09/16/fake-cots-and-the-one-day-rule/&quot;&gt;https://sboots.ca/2020/09/16/fake-cots-and-the-one-day-rule/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Pretty much every article by &lt;a href=&quot;https://twitter.com/KentBeck&quot;&gt;Kent Beck&lt;/a&gt; is great. This is a good one I read recently:
&lt;a href=&quot;https://medium.com/@kentbeck_7670/monolith-services-theory-practice-617e4546a879&quot;&gt;https://medium.com/@kentbeck_7670/monolith-services-theory-practice-617e4546a879&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A reminder about the risk in crypto:
&lt;a href=&quot;https://decrypt.co/51692/a-crypto-user-sent-50000-to-a-smart-contract-its-gone-forever&quot;&gt;https://decrypt.co/51692/a-crypto-user-sent-50000-to-a-smart-contract-its-gone-forever&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Generally, I am not a fan of the “why I left some big tech company” posts but there was something really nice about this one:
&lt;a href=&quot;https://mtlynch.io/why-i-quit-google/&quot;&gt;https://mtlynch.io/why-i-quit-google/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Some tips on working on a side project while not immediately having to quit the day job: &lt;a href=&quot;https://www.indiehackers.com/article/f7697df2d7&quot;&gt;https://www.indiehackers.com/article/f7697df2d7&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you ever worked at a “big corp”, you have probably encountered pain with certs on the network. This series helped me understand this stuff better and I learned a bit of rust too:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://dev.to/wayofthepie/a-rust-cli-for-decoding-certs-280i&quot;&gt;https://dev.to/wayofthepie/a-rust-cli-for-decoding-certs-280i&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bit of a cheat here since this site isn’t really on tech but it isn’t 100% not tech either and I love it a lot: &lt;a href=&quot;https://www.brainpickings.org/&quot;&gt;https://www.brainpickings.org/&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Podcasts &lt;a name=&quot;podcasts&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I listen to a great many tech podcasts. One I discovered late in 2020 is the Idealcast and I highly recommend it for its positivity and thought-provoking content:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://itrevolution.com/the-idealcast-podcast/&quot;&gt;https://itrevolution.com/the-idealcast-podcast/&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Conferences &lt;a name=&quot;conferences&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I was lucky to get to go to &lt;a href=&quot;https://events.itrevolution.com/&quot;&gt;The DevOps Summit&lt;/a&gt; in October. The focus was largely on dealing with problems in large organisations and more on culture than tech but this is a problem I care a lot about lately. I really loved this conference and how they made the virtual &amp;#x26; remote aspects work well. I loved chatting with the speakers in slack for example.&lt;/p&gt;
&lt;p&gt;I also got to attend &lt;a href=&quot;https://githubuniverse.com/&quot;&gt;GitHub Universe&lt;/a&gt;. It’s one of the most fun conferences for developers I think as you end up trying out so many new things at it. They have done a great job of going virtual too.&lt;/p&gt;
&lt;h2&gt;Books &lt;a name=&quot;books&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;When I was at the DevOps Summit I attended a talk by &lt;a href=&quot;https://markschwartz.me/&quot;&gt;Mark Schwartz&lt;/a&gt; and learned about his new book &lt;a href=&quot;https://itrevolution.com/delicate-art-of-bureaucracy/&quot;&gt;The (Delicate) Art of Bureaucracy&lt;/a&gt;. It’s not the kind of book I would ever have thought to buy, to be honest, but the talk was so entertaining I decided to give it a go. It ended up being one of my favourite books this year. If you struggle with bureaucracy in any aspect of life, you will likely find something useful in this book.&lt;/p&gt;
&lt;p&gt;Brain melting assembly problems &lt;a href=&quot;https://www.xorpd.net/pages/xchg_rax/snip_00.html&quot;&gt;https://www.xorpd.net/pages/xchg_rax/snip_00.html&lt;/a&gt;. I can’t really review this book except to say it hurts my brain but I still love it. It’s free but you can support the author by getting a hard copy.&lt;/p&gt;
&lt;p&gt;I got into coding late in life and really messed up in my younger years by completely ignoring maths. The book &lt;a href=&quot;https://www.manning.com/books/math-for-programmers&quot;&gt;Math for Programmers&lt;/a&gt; has helped me catch up a little bit and fill in some of the gaps in my knowledge left by a squandered youth.&lt;/p&gt;
&lt;p&gt;I read the first edition of &lt;strong&gt;Release It!&lt;/strong&gt; by &lt;a href=&quot;https://www.michaelnygard.com/&quot;&gt;Michael Nygard&lt;/a&gt; about 5 years ago and it changed how I thought about running apps in production in a big way. I am now reading &lt;a href=&quot;https://pragprog.com/titles/mnee2/release-it-second-edition/&quot;&gt;Release It! Second Edition&lt;/a&gt; and I am learning just as much again looking at it with more personal experience and enjoying some nice updates in the book.&lt;/p&gt;
&lt;h2&gt;Funny &lt;a name=&quot;funny&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Some amazing CSS &lt;a href=&quot;https://tholman.com/obnoxious/&quot;&gt;https://tholman.com/obnoxious/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Microservices&lt;/strong&gt;&lt;/p&gt;
&lt;iframe
        width=&quot;560&quot;
        height=&quot;400&quot;
        src=&quot;https://www.youtube.com/embed/y8OnoxKotPQ&quot;
        frameborder=&quot;0&quot;
        allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot;
        allowfullscreen&gt;
    &lt;/iframe&gt;
&lt;p&gt;&lt;strong&gt;All your programming pain in one video…&lt;/strong&gt;&lt;/p&gt;
&lt;iframe
        width=&quot;560&quot;
        height=&quot;400&quot;
        src=&quot;https://www.youtube.com/embed/ePhAj8ktiEA&quot;
        frameborder=&quot;0&quot;
        allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot;
        allowfullscreen&gt;
    &lt;/iframe&gt;
&lt;h2&gt;Gadgets &lt;a name=&quot;gadgets&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The only gadget I bought for my dev setup in the last 6 months was this keyboard: &lt;a href=&quot;https://dygma.com/&quot;&gt;https://dygma.com/&lt;/a&gt;. It is absolutely amazing.&lt;/p&gt;
&lt;p&gt;This just looks so cool and I want one: &lt;a href=&quot;https://www.clockworkpi.com/devterm&quot;&gt;https://www.clockworkpi.com/devterm&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Twitter &lt;a name=&quot;twitter&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;On needing a good strategy and vision from your leadership (a thread):&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-dnt=&quot;true&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;a big learning the last year is the degree to which your most passionate team members will *expect* leaders/managers to coherently frame strategy&lt;br&gt;&lt;br&gt;this is where &amp;quot;autonomy&amp;quot; often hits a snag. Leaders assume it means &amp;quot;bottom up&amp;quot; planning. But that isn&amp;#39;t it ... (1/n)&lt;/p&gt;&amp;mdash; John Cutler (@johncutlefish) &lt;a href=&quot;https://twitter.com/johncutlefish/status/1338224893645651968?ref_src=twsrc%5Etfw&quot;&gt;December 13, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;On things going bad in a rewrite and sunk cost fallacy (a thread):&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-conversation=&quot;none&quot; data-dnt=&quot;true&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;So a team was formed to build a new mobile architecture for this new app. The driving charter for the team was to build an architecture that would “sustain mobile development at Uber for the next 5 years”. We did both platforms at once. Product and Design also started over.&lt;/p&gt;&amp;mdash; McLaren Stanley (@StanTwinB) &lt;a href=&quot;https://twitter.com/StanTwinB/status/1336893874904567808?ref_src=twsrc%5Etfw&quot;&gt;December 10, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;A profound thought on hackathons:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-dnt=&quot;true&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Companies think, “oh, we should have hackathons!” and miss that _actually_ they should have an organization where hackathons are worth having.&lt;/p&gt;&amp;mdash; Beth (@bethcodes) &lt;a href=&quot;https://twitter.com/bethcodes/status/1320165499863396352?ref_src=twsrc%5Etfw&quot;&gt;October 25, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;It’s always DNS:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-conversation=&quot;none&quot; data-dnt=&quot;true&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;I don&amp;#39;t know why people despise DNS so much. It&amp;#39;s one of the simplest Internet services out there. &lt;br&gt;&lt;br&gt;Everything it does comes down to two things: naming things and cache invalidation.&lt;/p&gt;&amp;mdash; Leszek Jakubowski (@Makdaam) &lt;a href=&quot;https://twitter.com/Makdaam/status/1313858239298260993?ref_src=twsrc%5Etfw&quot;&gt;October 7, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;Interesting war story (a thread):&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-dnt=&quot;true&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Back story.&lt;br&gt;&lt;br&gt;Way back I worked in a PPT factory at an investment bank. Our job was to assemble “decks” for investment bankers. The operation ran 24hrs a day with dozens of “operators”.&lt;br&gt;&lt;br&gt;Young bankers would work CRAZY hours.&lt;br&gt;&lt;br&gt;Reflecting (1/n)&lt;/p&gt;&amp;mdash; John Cutler (@johncutlefish) &lt;a href=&quot;https://twitter.com/johncutlefish/status/1312536583401160704?ref_src=twsrc%5Etfw&quot;&gt;October 3, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;On being an opensource dev:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-dnt=&quot;true&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Them: I contribute to open source.&lt;br&gt;Me: &lt;a href=&quot;https://t.co/kwvSh71s04&quot;&gt;pic.twitter.com/kwvSh71s04&lt;/a&gt;&lt;/p&gt;&amp;mdash; Jay Phelps (@_jayphelps) &lt;a href=&quot;https://twitter.com/_jayphelps/status/1310776927599423489?ref_src=twsrc%5Etfw&quot;&gt;September 29, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;Same:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-dnt=&quot;true&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;My productivity algorithm is something like:&lt;br&gt;&lt;br&gt;* Start to do something&lt;br&gt;&lt;br&gt;* Remember higher-priority thing, switch to doing that&lt;br&gt;&lt;br&gt;* Remember that high-priority thing is hard&lt;br&gt;&lt;br&gt;* Do nothing&lt;/p&gt;&amp;mdash; Sean Carroll (@seanmcarroll) &lt;a href=&quot;https://twitter.com/seanmcarroll/status/1306613673952149504?ref_src=twsrc%5Etfw&quot;&gt;September 17, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;GraphQL VS Rest:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-dnt=&quot;true&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Someone shouted “GraphQL is a better REST” and then this happened &lt;a href=&quot;https://t.co/eHO36cUAit&quot;&gt;pic.twitter.com/eHO36cUAit&lt;/a&gt;&lt;/p&gt;&amp;mdash; Marc-André Giroux (@__xuorig__) &lt;a href=&quot;https://twitter.com/__xuorig__/status/1303673198500814848?ref_src=twsrc%5Etfw&quot;&gt;September 9, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;How I felt when I saw JSS:&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-dnt=&quot;true&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;js devs applying js solutions to css problems &lt;a href=&quot;https://t.co/umxJJgt3Yf&quot;&gt;pic.twitter.com/umxJJgt3Yf&lt;/a&gt;&lt;/p&gt;&amp;mdash; I Am Devloper (@iamdevloper) &lt;a href=&quot;https://twitter.com/iamdevloper/status/1303268890638778368?ref_src=twsrc%5Etfw&quot;&gt;September 8, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;h2&gt;Coding Music &lt;a name=&quot;coding-music&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://open.spotify.com/playlist/5e1dfPbE4qElO9wCQ2AOCm?si=cD2-ZYDnSsu8aENDufNP5A&quot;&gt;&lt;iframe src=&quot;https://open.spotify.com/embed/playlist/5e1dfPbE4qElO9wCQ2AOCm&quot; width=&quot;100%&quot; height=&quot;400&quot; frameborder=&quot;0&quot; allowtransparency=&quot;true&quot; allow=&quot;encrypted-media&quot;&gt;&lt;/iframe&gt;&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Does Test Driven Development Work?]]></title><description><![CDATA[Introduction Bertrand Russell was concerned about the issue of having to accept certain axioms to be able to proceed with an education in…]]></description><link>https://ruarfff.com/does-tdd-work/</link><guid isPermaLink="false">https://ruarfff.com/does-tdd-work/</guid><pubDate>Mon, 24 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Bertrand_Russell&quot;&gt;Bertrand Russell&lt;/a&gt; was concerned about the issue of having to accept certain axioms to be able to proceed with an education in mathematics even though those axioms had not necessarily been rigorously proven. He treats aspects of this in his book &lt;a href=&quot;https://people.umass.edu/klement/imp/imp-ebk.pdf&quot;&gt;An Introduction to Mathematical Philosophy&lt;/a&gt;. An example that is given in the &lt;a href=&quot;http://www.bbc.co.uk/programmes/b01p8fsr&quot;&gt;In Our Time Episode&lt;/a&gt; about Bertrand Russell is, for any two points in space there exists a line between those two points. This is intuitive but no proof existed of the truth of it. One major problem with a lack of proof is that, even if something might be intuitive, it is possible to argue that thing is not intuitive to you, or some other answer is more intuitive and there is no proof to appeal to that says an argument is right or wrong.&lt;/p&gt;
&lt;p&gt;A question that will be explored in this post is, do we have any proof that Test Driven Development (TDD) works?&lt;/p&gt;
&lt;p&gt;What does ‘Work’ mean in this context? Two measurements often used are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Productivity&lt;/li&gt;
&lt;li&gt;Code Quality&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Does practising TDD mean a real improvement in productivity or code quality? Just measuring productivity or code quality is difficult enough.&lt;/p&gt;
&lt;p&gt;In this post, we will look at some of the discussion going on around TDD in the industry and some of the efforts made to evaluate TDD in a scientific way.&lt;/p&gt;
&lt;h2&gt;Opinions in Industry&lt;/h2&gt;
&lt;p&gt;Before we look at scientific studies and data, it’s worth going over some well known and subjective discussions around TDD for context.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Kent_Beck&quot;&gt;Kent Beck&lt;/a&gt; is &lt;a href=&quot;https://en.wikipedia.org/wiki/Test-driven_development&quot;&gt;credited with having developed or ‘rediscovered’&lt;/a&gt; TDD somewhere around 1999. Since then there have been many proponents of TDD and a &lt;a href=&quot;https://www.amazon.com/s/ref=nb_sb_ss_i_1_14?url=search-alias%3Dstripbooks&amp;#x26;field-keywords=test+driven+development&amp;#x26;sprefix=test+driven+de%2Cstripbooks%2C218&amp;#x26;crid=2ADA7QMBPC5FP&quot;&gt;multitude of books&lt;/a&gt; on the subject. There is certainly a vocal group in the industry that claims TDD is critically important to writing good software.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://david.heinemeierhansson.com/&quot;&gt;David Heinemeier Hansson&lt;/a&gt; (whose name is often abbreviated to DHH) is the creator of &lt;a href=&quot;http://rubyonrails.org/&quot;&gt;Ruby on Rails&lt;/a&gt; expressed what seems to be a fairly widely held opinion against TDD in his blog post &lt;a href=&quot;http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html&quot;&gt;TDD is dead. Long live testing&lt;/a&gt;. An interesting aspect of that post is the point of view is taken that TDD has somehow won to become accepted as the right way to do development in the industry and is even causing harm. The post was written a few years ago now but the arguments don’t appear to have changed too much.&lt;/p&gt;
&lt;p&gt;In my personal experience, TDD is not generally accepted as a necessary process in software development and is rarely mandated. There is a lot of debate and while being a practitioner of TDD is not looked down upon, it is not generally seen as being important or necessarily correct. This differs between software teams of course but in general, this is my experience. It is very common at standups I have attended to hear developers say things like, ‘I am done but just need to add tests now’. In conversations like this, I have never heard anyone suggest the TDD process should have been used. It is left to the individual developers to decide that for the most part.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Robert_Cecil_Martin&quot;&gt;Bob Martin&lt;/a&gt; can be a polarizing individual but he is an important proponent of TDD. He attempts to refute DHH’s points in his post &lt;a href=&quot;https://8thlight.com/blog/uncle-bob/2014/04/30/When-tdd-does-not-work.html&quot;&gt;When TDD doesn’t work&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A reference within the original ‘TDD is dead’ post is the article &lt;a href=&quot;http://rbcs-us.com/documents/Why-Most-Unit-Testing-is-Waste.pdf&quot;&gt;Why Most Unit Testing is Waste&lt;/a&gt; by &lt;a href=&quot;https://en.wikipedia.org/wiki/Jim_Coplien&quot;&gt;Jim Coplien &lt;/a&gt; which is discussed in the video where &lt;a href=&quot;https://www.youtube.com/watch?v=KtHQGs3zFAM&quot;&gt;Jim Coplien and Bob Martin Debate TDD&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The TDD is dead subject also led to a long discussion between &lt;a href=&quot;https://www.facebook.com/kentlbeck&quot;&gt;Kent Beck&lt;/a&gt;, &lt;a href=&quot;http://www.martinfowler.com/&quot;&gt;Martin Fowler&lt;/a&gt; and &lt;a href=&quot;http://david.heinemeierhansson.com/&quot;&gt;David Heinemeier Hansson&lt;/a&gt; which is quite entertaining and can be watched here if you are interested:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=z9quxZsLcfo&quot;&gt;TW Hangouts | Is TDD dead? - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=JoTB2mcjU7w&quot;&gt;TW Hangouts | Is TDD dead? Part II - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=YNw4baDz6WA&quot;&gt;TW Hangouts | Is TDD dead? Part III - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=gWD6REVeKW4&quot;&gt;TW Hangouts | Is TDD dead? Part V &amp;#x26; VI - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;One interesting detail in those videos was the discussion around a pleasurable workflow and if there is a notable distinction in this area between a mind that prefers to write a test to begin solving a problem or a mind that prefers not to write a test until some form of solution to the problem has already been written.&lt;/p&gt;
&lt;p&gt;All this covers the input of only a few people in the industry and there are many more examples. I am pointing these out here because, despite the rich debate that took place in all these blog posts and discussions, no conclusive answers can be arrived at. It seems rare that one side convinces. That may just be the nature of things but maybe we can explore it a little deeper.&lt;/p&gt;
&lt;p&gt;In nearly all the discussions there was a consensus that automated testing is important. Most disagreements seemed to be around the perception of TDD as a process and perhaps the granularity of automated tests too.&lt;/p&gt;
&lt;p&gt;As with so many subjects in software development, a lot of the information about TDD that we share and consume is based on opinions and anecdotes. We hear about many stories from the perspective of the storyteller and we try to build up a picture of what is right so we can try to apply that to our own situations. We generally just try things to see if they work. Some data would be useful. Is it just that software development is very difficult to measure in this way? When it comes to TDD at least some efforts have been made to gather data.&lt;/p&gt;
&lt;h2&gt;Studies on TDD&lt;/h2&gt;
&lt;p&gt;In 2003 a study called &lt;a href=&quot;http://staff.unak.is/andy/MScTestingMaintenance/Homeworks/STMHeima7TestDrivenDevelopment.pdf&quot;&gt;An Initial Investigation of Test Driven Development in
Industry&lt;/a&gt; was conducted with ’24 professional pair programmers’ where one group developed with TDD and another group used a more conventional (at the time) design-develop-test-debug waterfall approach. That study also references an earlier German Study that was run with 19 graduate students that concluded that&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;test-first manner neither leads to quicker development nor provides
an increase in quality. However, the understandability of the
program increases, measured in terms of proper reuse of existing
interfaces.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There were a lot of limitations to that study which the 2003 study were trying to address.&lt;/p&gt;
&lt;p&gt;According to the George and Williams paper, the TDD group produced code that passed 18% more functional black box test cases but took 16% more time for development.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A hypothesis of this research was that the TDD approach would yield code with superior external code quality. Based on the data analysis conducted, the experimental findings are supportive that the TDD approach yields code with superior external code quality. However, the validity of the results must be considered within the context of the limitations discussed in external validity section.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There were also some interesting findings on the lack of testing done by the control group. Not practising TDD appeared to cause a leaning towards a lack of testing in general.&lt;/p&gt;
&lt;p&gt;This study had many limitations but it was still a good effort to gather some real data on how TDD might work in the industry. In terms of proof that TDD works or not, this study is far from that.&lt;/p&gt;
&lt;p&gt;An interesting paper to look at is &lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.94.9412&amp;#x26;rep=rep1&amp;#x26;type=pdf&quot;&gt;Janzen, D. S., (2006). An Empirical Evaluation of the Impact of
Test-Driven Development on Software Quality&lt;/a&gt; which looks at other studies and does analysis on data gathered by them. This is a long paper and I won’t repeat much of it here but I will highlight some interesting data and points from it. The data is interesting but it is worth keeping in mind the data is from the early 2000’s with relatively small sample sizes.&lt;/p&gt;
&lt;p&gt;Below are tables with summaries of findings from various papers referenced in &lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.94.9412&amp;#x26;rep=rep1&amp;#x26;type=pdf&quot;&gt;Janzen, D. S., (2006)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Type (CE) is a controlled experiment and (CS) is a case study.&lt;/p&gt;
&lt;h4&gt;In Industry&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Study&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;No.of Companies&lt;/th&gt;
&lt;th&gt;No. of Programmers&lt;/th&gt;
&lt;th&gt;Quality Effects&lt;/th&gt;
&lt;th&gt;Productivity Effects&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;https://pdfs.semanticscholar.org/616d/3f7e831c725b51220a34fbee3ca6ac1d711c.pdf&quot;&gt;George&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;CE&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;td&gt;TDD passed 18% more tests&lt;/td&gt;
&lt;td&gt;TDD took 16% longer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;http://faculty.salisbury.edu/~xswang/Research/Papers/SERelated/TDD/p564-maximilien.pdf&quot;&gt;Maximilien&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;CS&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;50% reduction in defect density&lt;/td&gt;
&lt;td&gt;minimal impact&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;http://ieeexplore.ieee.org/document/1251029/&quot;&gt;Williams&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;CS&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;40% reduction in defect density&lt;/td&gt;
&lt;td&gt;no change&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4&gt;In Academia&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Study&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;No. of Programmers&lt;/th&gt;
&lt;th&gt;Quality Effects&lt;/th&gt;
&lt;th&gt;Productivity Effects&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;http://www.cs.tufts.edu/~nr/cs257/archive/stephen-edwards/automated-feedback.pdf&quot;&gt;Edwards&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;CE&lt;/td&gt;
&lt;td&gt;59&lt;/td&gt;
&lt;td&gt;54% fewer defects&lt;/td&gt;
&lt;td&gt;n/a&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;http://dl.acm.org/citation.cfm?id=949421&quot;&gt;Kaufmann&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;CE&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;improved information flow&lt;/td&gt;
&lt;td&gt;50% improvement&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;http://ieeexplore.ieee.org/document/1049202/&quot;&gt;Muller&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;CE&lt;/td&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;td&gt;no change, but better reuse&lt;/td&gt;
&lt;td&gt;no change&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;http://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;#x26;arnumber=1248175&quot;&gt;Pancur&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;CE&lt;/td&gt;
&lt;td&gt;38&lt;/td&gt;
&lt;td&gt;no change&lt;/td&gt;
&lt;td&gt;no change&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&quot;http://ieeexplore.ieee.org/document/1423994/&quot;&gt;Erdogmus&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;CE&lt;/td&gt;
&lt;td&gt;35&lt;/td&gt;
&lt;td&gt;no change&lt;/td&gt;
&lt;td&gt;improved productivity&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The data here suggest mostly positive or neutral results from TDD. There is one exception (the previously mentioned George paper) where TDD took 16% longer than the control group but it is noted the control group wrote fewer tests in that study.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The essence of TDD as a design methodology is virtually unstudied, yet scattered early adoption has proceeded based solely on anecdotal evidence.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;While empirical studies will rarely produce absolute repeatable results, such studies can provide evidence of causal relationships, implying results that will most likely occur in given contexts.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This to me is a great point. Measurement is difficult and getting fully conclusive results for something like this is almost impossible but we can still use the evidence to help make decisions.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Survey data reveals that developer opinions about the TDD process improve with TDD experience whereas opinions of test-last programming decrease.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Much of the data in that paper relies on surveys. These surveys indicated that the more knowledge and experience a developer had with testing and software development in general, the more likely the developer would be of having a better experience with TDD as a process. Interesting but not a major revelation of course.&lt;/p&gt;
&lt;p&gt;A conclusion the paper arrived at:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This research has demonstrated that TDD can and is likely to improve some software quality aspects at minimal cost over a comparable test-last approach. In particular it has shown statistically significant differences in the areas of code complexity, size, and testing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This conclusion seems very positive in favour of TDD. A notable issue with these studies is that the sample size is quite small, putting some doubt on the statistical significance of the results. That said, I would argue this work is better than nothing and gives us something to go on at least.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This research revealed a number of differences between TDD acceptance and efficacy in beginning and mature developers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is just an interesting observation to me. Why is there a correlation between experience and an acceptance of TDD?&lt;/p&gt;
&lt;p&gt;A similar work: &lt;a href=&quot;http://proceedings.informingscience.org/InSITE2012/InSITE12p165-187Bulajic0052.pdf&quot;&gt;Overview of the Test Driven Development
Research Projects and Experiments &lt;/a&gt; also looks at varied research papers. This one is slightly newer (2012) and included some more recent research. A significant addition is a study with IBM and Microsoft development teams.&lt;/p&gt;
&lt;p&gt;Final conclusion in this study was (Nagappan et al., 2008):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Reducing of defect density (IBM 40%, Microsoft 60% - 90%)&lt;/li&gt;
&lt;li&gt;Increase of time taken to code feature (15% - 35%).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Threats to the validity of the study were identified as (Nagappan et al., 2008):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Higher motivation of developers that were using TDD methodology.&lt;/li&gt;
&lt;li&gt;The project developed by using TDD might be easier.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The findings of that paper were less positive than Janzen’s as they rightly noted the results were too varied and the sample sizes too small to draw any positive conclusions.&lt;/p&gt;
&lt;p&gt;Another &lt;a href=&quot;http://www.ipr.mdh.se/pdf_publications/2345.pdf&quot;&gt;controlled experiment conducted in 2012&lt;/a&gt; once again concluded that TDD is probably a good thing but that more evidence is needed.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://people.brunel.ac.uk/~csstmms/FucciEtAl_ESEM2016.pdf&quot;&gt;Another study from 2016&lt;/a&gt; looked at the effects of TDD compared to Test Last Development (TLD).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In this paper we reported a replication of an experiment
[13] in which TDD was compared to a test-last approach.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This study seemed to lean towards a verdict that TDD doesn’t improve things over TLD:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Given the limitations presented in Section 5, it appears that
TDD does not improve, nor deteriorate the participants’
performance with respect to an iterative development technique
in which unit tests are written after production code&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you look at how the tests were conducted though you can see an interesting aspect of it is how programmers were to use iterative development. There was a fairly tight loop between test and production code for both TDD and TLD. Perhaps a tight iterative loop is more important than the order of test code?&lt;/p&gt;
&lt;p&gt;In my opinion, this paper didn’t provide enough data to give a conclusion one way or the other. It certainly didn’t prove TDD was better or worse than writing all your tests after writing all your production code for a decent sized project.&lt;/p&gt;
&lt;p&gt;The final study we will glance at is one I just recently came across called &lt;a href=&quot;https://arxiv.org/pdf/1611.05994.pdf&quot;&gt;A dissection of the test-driven development process: does it really matter to test-first or to test-last?&lt;/a&gt; which is also by Fucci et al. This study actually appears to reach a similar conclusion to the previous study except that in this case, the programmers involved work in industry. Also, the comparisons were with iterative test last (ITL) development (which I think is a better term than TLD for this) and TDD.&lt;/p&gt;
&lt;p&gt;Another interesting conclusion in that study is that shorter cycle times (time between production code and test), to a point, do appear to lead to better quality.&lt;/p&gt;
&lt;h2&gt;Some Conclusions&lt;/h2&gt;
&lt;p&gt;Looking at the data it is fairly easy to say the answer to the questions ‘Does TDD Work?’ is inconclusive.&lt;/p&gt;
&lt;p&gt;If the question becomes more specific at least there are some answers.&lt;/p&gt;
&lt;p&gt;The evidence appears to be heavily stacked in favour of short iterative test cycles, very similar to that prescribed in TDD literature, being significantly better for code quality with minimal impact on productivity. A process of small iterations with small testable blocks of code does appear to lead to more maintainable code.&lt;/p&gt;
&lt;p&gt;Current evidence suggests that unit testing beats integration and higher level testing.&lt;/p&gt;
&lt;p&gt;There is currently very little evidence that practising TDD is bad.&lt;/p&gt;
&lt;p&gt;Whether writing a test first or last is better within a tight iterative cycle is inconclusive.&lt;/p&gt;
&lt;p&gt;Testing is a discipline that takes time to be learned before seeing the real benefits of it. That is my own observation but is supported by observations in some of the studies we looked at.&lt;/p&gt;
&lt;p&gt;Will we ever know for sure if TDD really works or not? I don’t know. On a positive note, It does seem that questions like this are being asked more often these days. More rigorous study is being done. Take the book &lt;a href=&quot;https://itrevolution.com/book/accelerate/&quot;&gt;Accelerate&lt;/a&gt; by &lt;a href=&quot;http://nicolefv.com/&quot;&gt;Nicole Forsgren&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/jezhumble&quot;&gt;Jez Humble&lt;/a&gt; and &lt;a href=&quot;https://itrevolution.com/faculty/gene-kim/&quot;&gt;Gene Kim&lt;/a&gt; for example. It’s not about TDD specifically but it’s an amazing example of the work being done to try and figure out what techniques really work in software development so at least we should have more accurate information to help us make decisions about subjects like this.&lt;/p&gt;
&lt;h2&gt;Personal Thoughts On All This&lt;/h2&gt;
&lt;p&gt;I spend a lot of time urging other developers to do TDD or at least to try it out. Usually, people will give it a go but have difficulty sticking with it. I try to explain that it is something you learn over time and when you get good at it, it’s great!&lt;/p&gt;
&lt;p&gt;It occurred to me fairly often that I might be wrong. What if I am trying to get people to invest time in something that isn’t that great. What proof is there that TDD even works? Just because it seems to work for me, it does not automatically follow it will work for everybody.&lt;/p&gt;
&lt;p&gt;That was the reason for this post. I wanted to look for proof that TDD actually works. I also wanted to read as much as I could from people who are against TDD or some aspect of it. Just because I think TDD is good I tended to avoid them and that’s not a good way to learn.&lt;/p&gt;
&lt;p&gt;I personally do think varied approaches to TDD are OK. The definition of TDD shouldn’t be like some ancient text to be taken absolutely literally and never altered.&lt;/p&gt;
&lt;p&gt;To me, one of the biggest advantages (maybe the most under-appreciated advantage) of TDD is the design that it encourages. A complaint I always hear is that too many unit tests lead to code that’s difficult to maintain and change. That’s just a common pitfall in the learning process. Once you add TDD to your arsenal of software development techniques and learn it well, it should really help in achieving good software design. If good, clean, well-designed software is your goal, I believe TDD is something that will help really help you to achieve that.&lt;/p&gt;
&lt;p&gt;It does sometimes feel like TDD is just a little too hard though. It reminds me of trying to do functional programming in Java. If everything is designed from the beginning to facilitate TDD, it’s fairly easy. That is so rare still, and trying to do TDD all the time is really difficult in the systems we have to work with. Thanks to the tools and educational material out there today, things seem to be getting better though.&lt;/p&gt;
&lt;p&gt;Despite the downsides, after everything I have read and experienced, I still consider TDD an excellent tool to have. I will keep using it and encouraging others to do the same.&lt;/p&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://staff.unak.is/andy/MScTestingMaintenance/Homeworks/STMHeima7TestDrivenDevelopment.pdf&quot;&gt;George, B., Williams, L., (2003). An Initial Investigation of Test Driven Development in Industry&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://digitalcommons.calpoly.edu/cgi/viewcontent.cgi?article=1034&amp;#x26;context=csse_fac&quot;&gt;Janzen, D., Saiedian, S., (2005). Test-Driven Development: Concepts, Taxonomy, and Future Direction&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.94.9412&amp;#x26;rep=rep1&amp;#x26;type=pdf&quot;&gt;Janzen, D. S., (2006). An Empirical Evaluation of the Impact of Test-Driven Development on Software Quality.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://pdfs.semanticscholar.org/a00c/61b77e2df21b43d5e500341d5efec286c195.pdf&quot;&gt;Sanchez, J. C., Williams, L., Maximilien, M, (2007). On the Sustained Use of a Test-Driven Development Practice at IBM&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://proceedings.informingscience.org/InSITE2012/InSITE12p165-187Bulajic0052.pdf&quot;&gt;Bulajic, A., Sambasivam, S., Stojic, R., (2012). Overview of the Test Driven Development Research Projects and Experiments.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.ipr.mdh.se/pdf_publications/2345.pdf&quot;&gt;Causevic, A., Sundmark, D., Punnekkat, S, (2012). Impact of Test Design Technique Knowledge on Test Driven Development: A Controlled Experiment&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://tuhat.halvi.helsinki.fi/portal/files/29553974/2014_01_swqd_author_version.pdf&quot;&gt;Mäkinen, S., Münch, J., (2014). Effects of Test-Driven Development: A Comparative Analysis of Empirical Studies&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://people.brunel.ac.uk/~csstmms/FucciEtAl_ESEM2016.pdf&quot;&gt;Fucci, D., Scanniello, G., Romano, S., Shepperd, M., Sigweni, B., Uyaguari, F., Turhan, B., Juristo, N., Oivo, M., (2016). An External Replication on the Effects of Test-driven Development Using a Multi-site Blind Analysis Approach&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.martinfowler.com/articles/testing-culture.html&quot;&gt;Goto Fail, Heartbleed, and Unit Testing Culture&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Test-driven_development&quot;&gt;Test-driven development - Wikipedia&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://arxiv.org/pdf/1611.05994.pdf&quot;&gt;A dissection of the test-driven development process: does it really matter to test-first or to test-last? Fucci et al., ICSE (2017)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.acolyer.org/2017/06/13/a-dissection-of-the-test-driven-development-process-does-it-really-matter-to-test-first-or-test-last/&quot;&gt;A dissection of the test-driven development process: does it really matter to test-first or test-last? | the morning paper&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=1bZv3pSaLtY&quot;&gt;Bertrand Russell - Face to Face Interview (BBC, 1959) - YouTube&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=z5JQjcSfUO0&quot;&gt;Bertrand Russell - In Our Time BBC Radio 4 - YouTube&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=9EF4I7HM0zI&quot;&gt;Bertrand Russell (Part 1 of 6) Authority and the Individual: Social Cohesion and Human Nature - YouTube&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Simple development environment setup with docker compose]]></title><description><![CDATA[All the code for this article is in this example project on Github. If you just want some quick sample code for a development environment…]]></description><link>https://ruarfff.com/docker-for-dev/</link><guid isPermaLink="false">https://ruarfff.com/docker-for-dev/</guid><pubDate>Wed, 11 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;All the code for this article is in &lt;a href=&quot;https://github.com/ruarfff/docker-dev-setup-example&quot;&gt;this example project on Github&lt;/a&gt;. If you just want some quick sample code for a development environment with docker-compose, that repository and its Readme should be helpful. This post will expand on that and go in to more detail to explain what’s going on in the example project.&lt;/p&gt;
&lt;h2&gt;The purpose of this post&lt;/h2&gt;
&lt;p&gt;I am assuming that you know what &lt;a href=&quot;https://www.docker.com/&quot;&gt;docker&lt;/a&gt; and &lt;a href=&quot;https://docs.docker.com/compose/&quot;&gt;docker compose&lt;/a&gt; are and won’t spend time in this post explaining them. This post will take what I learned from experience and reading the docs for those tools and present what I hope is a reasonably simple approach to using them to augment your development environment in a good way.&lt;/p&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;p&gt;All you need to do to run the sample code is to &lt;a href=&quot;https://docs.docker.com/install/&quot;&gt;install docker&lt;/a&gt; and &lt;a href=&quot;https://docs.docker.com/compose/install/&quot;&gt;install docker compose&lt;/a&gt;. Docker compose generally installs along with docker.&lt;/p&gt;
&lt;p&gt;You will also need to get the sample code &lt;a href=&quot;https://github.com/ruarfff/docker-dev-setup-example&quot;&gt;from Github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you have &lt;a href=&quot;https://git-scm.com/&quot;&gt;git&lt;/a&gt; installed you can run:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone git@github.com:ruarfff/docker-dev-setup-example.git&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If not, you can use the ‘Download Zip` option on the project web page.&lt;/p&gt;
&lt;p&gt;Finally, a good editor to view and edit the code would be useful. For what it’s worth, I use &lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;Visual Studio Code&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;The Scenario&lt;/h2&gt;
&lt;p&gt;Feel free to skip this section but I wanted to take a moment to mention some of the pain points this solution helps to address.&lt;/p&gt;
&lt;p&gt;You have an application and it connects to an external service such as a database. You probably have the tools to run the application installed locally but maybe it’s a bit annoying, like if for some reason the production environment is stuck on an old version of the database and you’re using some infrastructure where you have to go through a painful ticketing process to update (your next ticket should be to install docker!).&lt;/p&gt;
&lt;p&gt;Say the app uses a postgres database. You don’t really want to be connecting to a remote one or having it running locally all the time.&lt;/p&gt;
&lt;p&gt;Maybe you work on multiple applications that require different runtimes. For example one app need java 6 (shudder) and another needs Java 8 or maybe different version of node.&lt;/p&gt;
&lt;p&gt;Not sure if these are issues you have dealt with but I think it’s safe to assume you have run into something similar.&lt;/p&gt;
&lt;p&gt;Having your development environment in containers solves al lot of this pretty well. You really only need docker, docker compose and an editor to work on and run your application locally.&lt;/p&gt;
&lt;p&gt;Having your development environment use the same containers as production (assuming you deploy with containers) is even better again!&lt;/p&gt;
&lt;p&gt;The scenario we are working with here is needing to run a node app, a java app and a postgres database together. It’s not something you would typically need perhaps but serves as an example.&lt;/p&gt;
&lt;h2&gt;The Sample Application&lt;/h2&gt;
&lt;p&gt;The example project we will look at consists of 2 applications. They are not really related and don’t do much but are just examples in 2 different languages I commonly use. It may make sense for me to break them out into 2 repositories at some stage but until then, it’s just useful to have all the code in one place for demonstration purposes. Both applications connect to a postgres database, the same database in this setup which you wouldn’t normally do if these were microservices for example but that doesn’t do any harm here.&lt;/p&gt;
&lt;p&gt;One application is written in JavaScript using &lt;a href=&quot;https://nodejs.org/&quot;&gt;https://nodejs.org/&lt;/a&gt;. The code for the node app was generated using &lt;a href=&quot;https://expressjs.com/en/starter/generator.html&quot;&gt;the express generator&lt;/a&gt;. We will explore how we can have it run and build entirely in a docker container even though you can edit it in your editor on any host OS (by Host OS I mean the machine and operating system you are using for development currently). We will also look at having the application automatically restart on any file change and how we can setup debugging the app while it is running in the docker container. For auto restarting we are using &lt;a href=&quot;http://pm2.keymetrics.io/&quot;&gt;pm2&lt;/a&gt; but &lt;a href=&quot;https://nodemon.io/&quot;&gt;nodemon&lt;/a&gt; is another great option you could use instead.&lt;/p&gt;
&lt;p&gt;The second application is a Java application based on Spring Boot and was generated using the &lt;a href=&quot;https://start.spring.io/&quot;&gt;start.spring.io&lt;/a&gt; site. We will also look at running this application entirely in a docker container, having it automatically restart on code changes and enabling debugging for application while it’s running in a container.&lt;/p&gt;
&lt;h2&gt;The Compose Configuration&lt;/h2&gt;
&lt;p&gt;Here is our docker-compose.yml file in its entirety:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;3.7&apos;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; postgres&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;alpine
    &lt;span class=&quot;token key atrule&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; always
    &lt;span class=&quot;token key atrule&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; db
    &lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;POSTGRES_USER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dev
      &lt;span class=&quot;token key atrule&quot;&gt;POSTGRES_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; password
      &lt;span class=&quot;token key atrule&quot;&gt;POSTGRES_DB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dev
    &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./.postgres/init&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/docker&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;entrypoint&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;initdb.d
    &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;5432:5432&apos;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; develop
  &lt;span class=&quot;token key atrule&quot;&gt;pgadmin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pgadmin_container
    &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dpage/pgadmin4
    &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;9000:80&apos;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;PGADMIN_DEFAULT_EMAIL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pgadmin4@pgadmin.org
      &lt;span class=&quot;token key atrule&quot;&gt;PGADMIN_DEFAULT_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; admin
    &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./.postgres/admin&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/var/lib/pgadmin
    &lt;span class=&quot;token key atrule&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; develop
    &lt;span class=&quot;token key atrule&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; db
  &lt;span class=&quot;token key atrule&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node/
    &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;3000:3000&apos;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./node/src&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/usr/app/src
    &lt;span class=&quot;token key atrule&quot;&gt;working_dir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /usr/app
    &lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;PGUSER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dev
      &lt;span class=&quot;token key atrule&quot;&gt;PGPASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; password
      &lt;span class=&quot;token key atrule&quot;&gt;PGDATABASE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dev
      &lt;span class=&quot;token key atrule&quot;&gt;PGHOST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; db
    &lt;span class=&quot;token key atrule&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; develop
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;pm2-runtime&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;start&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ecosystem.config.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; db
  &lt;span class=&quot;token key atrule&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gradle&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;jdk&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;alpine
    &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;8080:8080&apos;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./java&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/home/gradle/project
    &lt;span class=&quot;token key atrule&quot;&gt;working_dir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /home/gradle/project
    &lt;span class=&quot;token key atrule&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; develop
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;gradle&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;build&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bootRun&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; develop&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The version (&lt;code class=&quot;language-text&quot;&gt;3.7&amp;#39;&lt;/code&gt; in this case) is important. The capabilities from version to version of docker compose are significant. The reference manual for our version is &lt;a href=&quot;https://docs.docker.com/compose/compose-file/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;services&lt;/code&gt; field is a list of services we want docker compose to manage. The services are the various components we want to run together while developing. Our example here may be a bit contrived but imaging a more useful scenario where you would like to see how your app behaves connected to various services it uses in production like a database and maybe a cache, like &lt;a href=&quot;https://hub.docker.com/_/memcached&quot;&gt;memcached&lt;/a&gt;, or messaging service, like &lt;a href=&quot;https://hub.docker.com/_/rabbitmq&quot;&gt;rabbitmq&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;networks&lt;/code&gt; field is where we define the networks we want the services ot communicate over. We’re keeping it simple and just using one here but you can do more with networks if you need to.&lt;/p&gt;
&lt;h3&gt;The database configuration&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; postgres&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;alpine
  &lt;span class=&quot;token key atrule&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; always
  &lt;span class=&quot;token key atrule&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; db
  &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./.postgres/init&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/docker&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;entrypoint&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;initdb.d
  &lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;POSTGRES_USER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dev
    &lt;span class=&quot;token key atrule&quot;&gt;POSTGRES_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; password
    &lt;span class=&quot;token key atrule&quot;&gt;POSTGRES_DB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dev
  &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;5432:5432&quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; develop&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The first field, the name ‘db’ above could be any name. Like any name in software, it’s good to use something as clear and obvious as possible. You will use that to reference this service in other services.&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;image&lt;/code&gt; is the &lt;a href=&quot;https://hub.docker.com/_/postgres&quot;&gt;postgres docker image&lt;/a&gt;. You can also define a version there e.g. &lt;code class=&quot;language-text&quot;&gt;postgres:11-alpine&lt;/code&gt; if you want a specific version. Otherwise it just uses the latest.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;restart: always&lt;/code&gt; tells compose to restart this image if it crashes.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;hostname: db&lt;/code&gt; you don’t actually need this here but if you wanted to change the hostname seen by other services you can use this field. My default other services will use the service name as the hostname. By hostname I mean, other containers can see the container by using that name as long as they are on the same network. The name will resolve to the IP address of the container.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;volumes&lt;/code&gt; we use volumes to mount a directory on our host system, into the running container. In this case we are mounting an sql script in to a particular place in the container so that the very first time the container is created, the script is run against the database and we can set up a scheme, populate with dummy data etc. Some other things we can do with this are, load a database configuration file and use a database file on our local file system for the database storage. By default, every time we tear down the database container we will lose all the data that was loaded into the database while we were working.&lt;/p&gt;
&lt;p&gt;If you want to keep the state of the database you can create a directory somewhere, e.g. from the root of the sample app run&lt;code class=&quot;language-text&quot;&gt;mkdir .postgres/data&lt;/code&gt;and add a new volume to the volumes field of the configuration:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;- ./.postgres/data:/var/lib/postgresql/data&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now the database’s data will be stored in that directory and can be deleted on the host.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;environment&lt;/code&gt; here we can specify environment variables to inject in to the running container. The variables we use are documented &lt;a href=&quot;https://hub.docker.com/_/postgres&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ports&lt;/code&gt; by default postgres serves on port 5432. Here we are exposing that on the host.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;networks&lt;/code&gt; we want all the services to be able to communicate on the same network. Docker allows us to define a network for our services to share. We are creating a network called ‘develop’ and this tells the postgres service to join it.&lt;/p&gt;
&lt;h3&gt;The node application configuration&lt;/h3&gt;
&lt;p&gt;First let’s look at the Dockerfile:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerfile&quot;&gt;&lt;pre class=&quot;language-dockerfile&quot;&gt;&lt;code class=&quot;language-dockerfile&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; keymetrics/pm2&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;latest&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;alpine

&lt;span class=&quot;token keyword&quot;&gt;WORKDIR&lt;/span&gt; /usr/app

&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; bin/ ./bin/
&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; package.json .
&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; yarn.lock .
&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; ecosystem.config.js .

&lt;span class=&quot;token keyword&quot;&gt;ENV&lt;/span&gt; NPM_CONFIG_LOGLEVEL warn
&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; yarn install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;FROM keymetrics/pm2:latest-alpine&lt;/code&gt; this is an image provided by the &lt;a href=&quot;http://pm2.keymetrics.io/&quot;&gt;pm2&lt;/a&gt; people which is handy for auto restarting our app on code changes but we have many options. We could use the &lt;a href=&quot;https://hub.docker.com/_/node/&quot;&gt;NodeJS image&lt;/a&gt; and start a little differently &lt;code class=&quot;language-text&quot;&gt;command: [&amp;quot;npm&amp;quot;, &amp;quot;start&amp;quot;]&lt;/code&gt; for example. We could also use a custom Dockerfile for our app. If you had a python app or whatever, you could just use the appropriate image for that here instead.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;WORKDIR /usr/app&lt;/code&gt; I am not sure is using /usr/app is a convention or just something I copied and kept using but I tend to use it as the place to put my app code in most docker containers. Any commands run after specifying that in the Dockerfile will be run in the context of that directory.&lt;/p&gt;
&lt;p&gt;After that point, with all the &lt;code class=&quot;language-text&quot;&gt;COPY&lt;/code&gt; calls, we’re doing a few slightly odd things here and I’ll explain why. We want the application to install all it’s dependencies in the Docker container. With the way node dependencies work, it can cause problems to install on the host and not in the container.&lt;/p&gt;
&lt;p&gt;Take an example where you are developing on Windows. If you install the dependencies on Windows first and then mount the code in a container, you will hit issues. Node will install and even compile dependencies for the OS you are on. Trying to run your Windows dependencies in Linux will cause issues.&lt;/p&gt;
&lt;p&gt;To get around this, we keep all our source code in a sub directory called &lt;code class=&quot;language-text&quot;&gt;src&lt;/code&gt;. We want to only mount the src directory during development. When we actually build our image, we want to copy in the build files and install dependencies. That way, even if you have run &lt;code class=&quot;language-text&quot;&gt;yarn&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt;, the node_modules directory won’t get copied over to the container. If you run docker compose with &lt;code class=&quot;language-text&quot;&gt;docker-compose up --build&lt;/code&gt;, it will pick up any changes you made to your dependencies and rebuild the image so you don’t get out of sync.&lt;/p&gt;
&lt;p&gt;It’s a little bit awkward and there may well be a better way to manage this but this is what I have come up with so far and I am sharing it with you.&lt;/p&gt;
&lt;p&gt;Now to look at the compose configuration for the node application:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node/
  &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3000:3000&quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./node/src&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/usr/app/src
  &lt;span class=&quot;token key atrule&quot;&gt;working_dir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /usr/app
  &lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;PGUSER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dev
    &lt;span class=&quot;token key atrule&quot;&gt;PGPASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; password
    &lt;span class=&quot;token key atrule&quot;&gt;PGDATABASE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dev
    &lt;span class=&quot;token key atrule&quot;&gt;PGHOST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; db
  &lt;span class=&quot;token key atrule&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; develop
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;pm2-runtime&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ecosystem.config.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; db&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;node&lt;/code&gt; is our service name. Could be anything but good to use a name that makes sense.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ports&lt;/code&gt; by default the port express serves on is 3000. With this we are exposing this on the host too.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;volumes&lt;/code&gt; mounting the source code for the application into the container so any edits we make in our editor will be reflected in the running container.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;environment&lt;/code&gt; setting up environment variables. In this case, just providing database connection information.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;networks&lt;/code&gt; puts the node app on the development network.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;command&lt;/code&gt; is the command to run when the container starts.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;depends_on&lt;/code&gt; tells the web service to wait until the db services container has at least started before starting itself. This does not guarantee the service itself e.g. the postgres database has actually started beforehand though. Only that the container is in a running state.&lt;/p&gt;
&lt;p&gt;Beyond all that setup, all the application does is test out its connection to postgres.&lt;/p&gt;
&lt;h2&gt;The java application configuration&lt;/h2&gt;
&lt;p&gt;The java app does not have its own Dockerfile although you could add one if you wish. It’s just not needed at this point.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;java&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gradle&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;jdk&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;alpine
  &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;8080:8080&quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./java&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/home/gradle/project
  &lt;span class=&quot;token key atrule&quot;&gt;working_dir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /home/gradle/project
  &lt;span class=&quot;token key atrule&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; develop
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;gradle&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bootRun&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you have read over the last 2 configurations you probably won’t need much explanation but I will go over the properties briefly.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;java&lt;/code&gt; the name of the service.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;image&lt;/code&gt; we are using the &lt;a href=&quot;https://hub.docker.com/_/gradle&quot;&gt;official gradle image&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ports&lt;/code&gt; by default spring boot serves on port 8080. We are exposing that here.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;volumes&lt;/code&gt; we are mounting the source code into the container at the location &lt;code class=&quot;language-text&quot;&gt;/home/gradle/project&lt;/code&gt;. This is the expected location documented on the dockerhub page for this container.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;working_dir&lt;/code&gt; setting the working directory to where the code is.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;networks&lt;/code&gt; the develop network we configure for the services to talk to each other.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;command&lt;/code&gt; we call gradle and the tasks we want to be run on startup.&lt;/p&gt;
&lt;h2&gt;Running the applications&lt;/h2&gt;
&lt;p&gt;Once you have everything set up, starting the application is simply running &lt;code class=&quot;language-text&quot;&gt;docker-compose up --build&lt;/code&gt; in the directory that contains the compose file.&lt;/p&gt;
&lt;p&gt;If you want to teardown and delete the containers that were created, first hit ctrl+c to shutdown the current docker compose session. Then run &lt;code class=&quot;language-text&quot;&gt;docker-compose down&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Automatically restarting the applications on code change&lt;/h2&gt;
&lt;p&gt;Having a quick feedback loop is very important while developing. I thought it important to highlight the fact that you can still use the techniques you might be used to during normal development, while using docker.&lt;/p&gt;
&lt;h3&gt;node&lt;/h3&gt;
&lt;p&gt;If you develop with node, you probably have used &lt;a href=&quot;https://nodemon.io/&quot;&gt;nodemon&lt;/a&gt; or something similar to automatically restart your application after a file has changed. You can do the very same with docker even when working with volumes. In our example we are using &lt;a href=&quot;https://pm2.io/doc/en/runtime/overview/&quot;&gt;pm2&lt;/a&gt; which is a nice process manager for node and provides features for watching source files and reloading on change. Try out changing a file in the node project and see the app reload.&lt;/p&gt;
&lt;h3&gt;java&lt;/h3&gt;
&lt;p&gt;For the java application we are using &lt;a href=&quot;https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html&quot;&gt;Spring Devtools&lt;/a&gt;. They are pretty well documented but basically we are going for a similar effect to what nodemon does for node. Try out changing any source file in the java application and watch it automatically restart.&lt;/p&gt;
&lt;h2&gt;Debugging&lt;/h2&gt;
&lt;p&gt;I was going to put a tutorial based on tools I use here but it would honestly be a bit redundant. There are far more comprehensive tutorials out there. I will link them here:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Node&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.docker.com/2016/07/live-debugging-docker/&quot;&gt;VSCode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@creynders/debugging-node-apps-in-docker-containers-through-webstorm-ae3f8efe554d&quot;&gt;WebStorm&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tutorials for &lt;a href=&quot;https://blog.docker.com/2016/09/java-development-using-docker/&quot;&gt;Eclipse, IntelliJ and Netbeans&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;If you are not already familiar with docker, there’s a bit to take in here. Once you pick of the concepts though, and work through a few of those slightly weird to get the head around bits, it’s amazingly useful. Maybe some new thing will come along and make it all redundant but in the meantime, I believe it’s worth the effort for most people working on any kind of coding or infrastructure tasks.&lt;/p&gt;
&lt;p&gt;I find myself jumping around to different computers, different OSes, occasionally trying out new Linux distros and having to setup environments is a real pain. Even if you automate some of it there’s always something to take up a bunch of time.&lt;/p&gt;
&lt;p&gt;With docker, I find for the most part I can get away with only 3 things on any system to get productive quickly. Docker, Git and an editor. I hope you find similar advantages to this stuff. Good luck!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Deploying an app to Elastic Beanstalk with Codeship]]></title><description><![CDATA[Codeship provides some docs on how to set up a deployment to AWS (Amazon Web Services) EB (Elastic Beanstalk) here. I didn’t find them great…]]></description><link>https://ruarfff.com/elastic-beanstalk-codeship/</link><guid isPermaLink="false">https://ruarfff.com/elastic-beanstalk-codeship/</guid><pubDate>Mon, 26 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Codeship provides some docs on how to set up a deployment to AWS (Amazon Web Services) EB (Elastic Beanstalk) &lt;a href=&quot;https://documentation.codeship.com/basic/continuous-deployment/deployment-to-elastic-beanstalk/&quot;&gt;here&lt;/a&gt;. I didn’t find them great since they assumed a lot of knowledge I didn’t have. I know I’ll have to do this again so here I am writing down all the steps I had to follow to get this to work.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Disclaimer: I can’t claim any of this is best practice. Just what I figured out as I went along. I don’t run critical large scale applications on AWS. Just simple apps and side projects.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;For this first step I will be deploying a simple nodejs application using the pre-configured Node.js platform on EB. The instructions should be basically the same for any other platform on EB though.&lt;/p&gt;
&lt;h2&gt;Assumptions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;You’re using Codeship or some other similar CI (Continuous Integration) system (that system should allow you to configure an EB deployment as we won’t be looking in to how to deploy with the aws tools directly).&lt;/li&gt;
&lt;li&gt;You have an &lt;a href=&quot;http://aws.amazon.com&quot;&gt;AWS&lt;/a&gt; account and are aware of pricing etc. If you’re in your free trial this should all be free but might cost you a little otherwise.&lt;/li&gt;
&lt;li&gt;You have the ability to add a user with &lt;a href=&quot;https://aws.amazon.com/iam/&quot;&gt;IAM&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;You can create an EB application.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Checklist&lt;/h2&gt;
&lt;p&gt;Here’s the steps we will have gone through by the end of this post.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create an Elastic Beanstalk application &amp;#x26; environment&lt;/li&gt;
&lt;li&gt;Configure IAM with a deployment user and user group&lt;/li&gt;
&lt;li&gt;Configure a deployment pipeline&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I am going to use the AWS UI for all this.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Account ID and region&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When working with AWS there are 2 values you will have that will likely be different to what I have here. Your account ID and your region. For the rest of this post, rather than calling out these in each place I am just going to use these values:&lt;/p&gt;
&lt;p&gt;AccountID: &lt;code class=&quot;language-text&quot;&gt;123456789123&lt;/code&gt;
Region: &lt;code class=&quot;language-text&quot;&gt;eu-west-1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In all the examples I have, just replace these values with your own.&lt;/p&gt;
&lt;p&gt;You can find your account ID by selecting the dropdown with your name on the top right and viewing you account which should be at this URL: &lt;a href=&quot;https://console.aws.amazon.com/billing/home?#/account&quot;&gt;https://console.aws.amazon.com/billing/home?#/account&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;1. Create an Elastic Beanstalk application &amp;#x26; environment&lt;/h2&gt;
&lt;p&gt;Go to your console and select Elastic Beanstalk in the services section. If your currently selected region is eu-west-1 and this is your first time creating an EB app, you will end up at a URL like this &lt;a href=&quot;https://eu-west-1.console.aws.amazon.com/elasticbeanstalk/home?region=eu-west-1#/getting_started&quot;&gt;https://eu-west-1.console.aws.amazon.com/elasticbeanstalk/home?region=eu-west-1#/getting_started&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Don’t use the default stuff in there. Instead use the &lt;code class=&quot;language-text&quot;&gt;Create New Application&lt;/code&gt; link on the top right.&lt;/p&gt;
&lt;p&gt;If it’s not your first time creating one, click the create new app link anyway to follow along.&lt;/p&gt;
&lt;p&gt;You will see a dialog prompting you to enter application details. Enter whatever you want there.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8ca002ecee2285e012a2eafadc60c876/b5bda/01-my-test-app.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoUlEQVQoz4WSy07CQBSG+zQIFQqFgvFdXPsQunDjSuOCPTGaaAh1Bc/gknANAd0Y3GAUSttpZ9pOC/5luCxM45fpSS/nP+c/M5Xy+bymaSc7KpUKYrlc1pLB11KppCiKlMsprVZrPB53Op3ejtFo9J7AZDKZTqeQoKuUzWYHg8F6vWaM+b7vui51aRiG6wSiKELs9/txZ1xoBdlisVgul7ZNTNdfWM6SUNcP9yuKVgLOOcTdblfYzqEMxIZhWKZpE+fHJD+GNTdtxwscFrgeR/SDALKAB57vHTpnMhlhW/hBbfj3YhBZPAWljFEHuA4m8ik7iDHzcDjEM2zPZjM4R5plWbiBHVTE/HxDFEbEo5/W90Esy7LojFS0QySEQG/bNt0AIxvDfBVGBiW97w8k97a2d+K9baGBYchETNxt2MYJ748KBH/Yvt9EyiiS2+12LC4UCmJmUTIJj6/mhH9ZwfnD29n9tNZ8PdUKkqqq1Wq12Wzquv6STEPXn+uNp3rj8rZ2cfd4dX1TKqoS/lLsWSqVOvqPdDpeqiIXFTmXPYbwF/ckPm2IMn4MAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;my-test-app&quot;
        title=&quot;my-test-app&quot;
        src=&quot;/static/8ca002ecee2285e012a2eafadc60c876/f058b/01-my-test-app.png&quot;
        srcset=&quot;/static/8ca002ecee2285e012a2eafadc60c876/c26ae/01-my-test-app.png 158w,
/static/8ca002ecee2285e012a2eafadc60c876/6bdcf/01-my-test-app.png 315w,
/static/8ca002ecee2285e012a2eafadc60c876/f058b/01-my-test-app.png 630w,
/static/8ca002ecee2285e012a2eafadc60c876/b5bda/01-my-test-app.png 643w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You will end up at the screen listing any application you have created.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5d20e084baa0cba1102c4f0372d094ee/497e1/02-appllications-view-create-one.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnklEQVQY05WQyQ7DMAhE/f9fmkixSbyAF3A6bVSpPfodOKAZZoSjmCky126mrbVt20IIYwxVtR+mWauVmXvvmCnloeZC7iGPpjeAiIhKKfOD/THf91Sxr7UKM/TuSpKlI+UxIBO3UUFE0g8xlVSkfYFmztuh8x4y13av4+jK+0HneaUY0WrN7P1BwYsweq4nE3mP9+Lbtmx+3vPMVf8LLYTXVSMu9kQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;appllications-view-create-one&quot;
        title=&quot;appllications-view-create-one&quot;
        src=&quot;/static/5d20e084baa0cba1102c4f0372d094ee/f058b/02-appllications-view-create-one.png&quot;
        srcset=&quot;/static/5d20e084baa0cba1102c4f0372d094ee/c26ae/02-appllications-view-create-one.png 158w,
/static/5d20e084baa0cba1102c4f0372d094ee/6bdcf/02-appllications-view-create-one.png 315w,
/static/5d20e084baa0cba1102c4f0372d094ee/f058b/02-appllications-view-create-one.png 630w,
/static/5d20e084baa0cba1102c4f0372d094ee/40601/02-appllications-view-create-one.png 945w,
/static/5d20e084baa0cba1102c4f0372d094ee/78612/02-appllications-view-create-one.png 1260w,
/static/5d20e084baa0cba1102c4f0372d094ee/497e1/02-appllications-view-create-one.png 1891w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Select the option to create a new environment for your application, either in the Actions dropdown or by clicking the &lt;code class=&quot;language-text&quot;&gt;Create one now&lt;/code&gt; link.&lt;/p&gt;
&lt;p&gt;Choose the Web Server option.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/73411bab1711decc5a75e86a90a79dba/1e043/03-choose-env.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABqElEQVQoz41Ry07CUBTst6AQXtEqJIjSFI0mfoXfwcKlLvgAd8QV0CISjK5cmFBZsnDvglUflEfoEygF6lAogRCIsziZ3nPnzJxbIhwOZzKZSqVSKBQYhil6KJVKL1vAIW7mcrlkMkmSJHF4cJDP51VV5XlelmVBEERRRMXJcDgcbMI0Tdu2m80mTdNzsc/nwzDHcUaj0WQyGXuYzWbOFqbTKWqr1Uqn03Ox3+9nWRZT4dZut9GAMzwxCOPGa4CnNZ5gpChJS3EgEMAymNfr9TRNQ1oQwzB0XQfXXOBzQfqGZY4dXhApiopGo3MxYsOn0+koitLtdmHr7MAqdiqVmouDwSBiG4bJ84IkSXg29DCi4wKLoOIhQZAIdWPnUCgEsa6pWFV2sSCoLQ+iC5dIlmVJq50hZtiS3FPQgwka626IsAjivqUktvvqwAZZihG7/FpZ7bMf3s5r4mq1iiO82R6ZYuI/Td9/uvdvQrn+e3tzdXRMEpFIJJvNNhoNjuPqu/H5Vatx39nnj7vH8sNT8ZKmSPKEiMVip/9A3L11cRa/phLniTg4hH+H/0Eag6cdfAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;choose-env&quot;
        title=&quot;choose-env&quot;
        src=&quot;/static/73411bab1711decc5a75e86a90a79dba/f058b/03-choose-env.png&quot;
        srcset=&quot;/static/73411bab1711decc5a75e86a90a79dba/c26ae/03-choose-env.png 158w,
/static/73411bab1711decc5a75e86a90a79dba/6bdcf/03-choose-env.png 315w,
/static/73411bab1711decc5a75e86a90a79dba/f058b/03-choose-env.png 630w,
/static/73411bab1711decc5a75e86a90a79dba/1e043/03-choose-env.png 690w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Fill in the form.&lt;/p&gt;
&lt;p&gt;For this example we will use the Node.js pre-configured platform. You can use the Sample application option for Application code. We will overwrite that soon.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bbb2bd64bd3cd25fd2ee4663bc828aed/c56af/04-new-env-form.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.41772151898735%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTklEQVQoz42SaXaDMAyEc/979Q7t77QJiw2WV2Eb0wEnzdI2yYfxAx6yRiPt3t4/mLlt28PhcDwese/3eyFkYPYroeLPTNO0nNl9CplSHIah3+i6rmmbflDOc7gCYQ6Xd8xXwbhLKdZabQwR8cQ5zzHN2EuZK8s/7MqGMWYcR6UUTlm18kUpvsQYa47KTWaQ4qrcOY9TYMHyGpvspYQUTDDKKmWUdjpMwU/4YpUhLLKaLA00GnY8T3OZL8G5zDZZYpJWdqoXBhpGaccvavDakxBaCCNb1SuvTLK55BvZAD2oRcKziDK2dacTGrHu3T4Zk9LPPydvytOay5JzhqVrL3EH5Ly0p/zi3u218pScc3BbSEmkUQXmoTbpUeZreCOfeTAhfwRDNpGCAoyn5/i8z7UwKEQerXXTNBhyKQfS5qVghKHaOpOYUjykk/OP+AYyjm6anuu/cgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;new-env-form&quot;
        title=&quot;new-env-form&quot;
        src=&quot;/static/bbb2bd64bd3cd25fd2ee4663bc828aed/f058b/04-new-env-form.png&quot;
        srcset=&quot;/static/bbb2bd64bd3cd25fd2ee4663bc828aed/c26ae/04-new-env-form.png 158w,
/static/bbb2bd64bd3cd25fd2ee4663bc828aed/6bdcf/04-new-env-form.png 315w,
/static/bbb2bd64bd3cd25fd2ee4663bc828aed/f058b/04-new-env-form.png 630w,
/static/bbb2bd64bd3cd25fd2ee4663bc828aed/40601/04-new-env-form.png 945w,
/static/bbb2bd64bd3cd25fd2ee4663bc828aed/c56af/04-new-env-form.png 1231w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Click the Create button and wait for you environment to be created.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/08966e6ab8970794ccc403c3a80fb507/b6e50/05-env-creating.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 29.746835443037973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7ElEQVQY05WQzUrDUBCFr9rEdqG+XX2gBAL2EqQRTLUt4gsEN27c1UUKgg9hRLDUhbdJ7s/MzXWSLNSN4OFjOJs5wxmmAUoFojaVxlLqqqpqKZXSWoMyVhqLtmkaR1hrEYEGAOzK0hhgzjnssM417i9RBi10xlEMGfby+nZ3/zCZpslsOVve9lzOb5J03jNNry+uFmfnSf70vBGwFQrQ9lnscbU6HY8P9vdOjo8Ofa/D972BN/hmNBwyxqIoop3PXY2IbRO6XBRFlmVhGHLOJ614C/+lOI6DIMjztZD2/UNQ574ic/8RUtsfj/kCzesaqbzwhwgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;env-creating&quot;
        title=&quot;env-creating&quot;
        src=&quot;/static/08966e6ab8970794ccc403c3a80fb507/f058b/05-env-creating.png&quot;
        srcset=&quot;/static/08966e6ab8970794ccc403c3a80fb507/c26ae/05-env-creating.png 158w,
/static/08966e6ab8970794ccc403c3a80fb507/6bdcf/05-env-creating.png 315w,
/static/08966e6ab8970794ccc403c3a80fb507/f058b/05-env-creating.png 630w,
/static/08966e6ab8970794ccc403c3a80fb507/40601/05-env-creating.png 945w,
/static/08966e6ab8970794ccc403c3a80fb507/78612/05-env-creating.png 1260w,
/static/08966e6ab8970794ccc403c3a80fb507/b6e50/05-env-creating.png 1862w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This will take a while to complete.&lt;/p&gt;
&lt;p&gt;AWS provides you with a public URL (as you saw in the create env form) so once your environment is up an running you can access it in the browser. In my case I saw this.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f4e209589316e9406812844bf5ec3944/a655e/06-sample-app.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.89873417721519%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGklEQVQoz9XNXUvCUBzH8b2Uootoc9I852zryHbONlQWQjcGQZcGzZyudqYhdNkrGGldhnvQoOsie3PtgVKDXkDw4cf/5sufC9/c8N3NtzD98Garm8fP3Gx1XfAm931v6A69ntPrOr2L0qXT5YZzeYOS7eA3ZHVqUNVgHQviPn+ww/O7hT1ulBqlIKUZFhN/TlhMWURYRP2IBgmxzzWZtrF9gptt3DhWDVMlRMGIY4leysrbpcWeTXdKr0KS6YfEfaCDJ711hhGxFbMhU0smBsJHqI6BLG3HCyu3tEapOV5a44U5eWndvdrNUyhJEkQiAMI3HoDKOvYTLRcXfo5YY6nW6NQOqwJEVQA3iev4L8FCL+JK/hlu+afxFyfA22Au4gxDAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;sample-app&quot;
        title=&quot;sample-app&quot;
        src=&quot;/static/f4e209589316e9406812844bf5ec3944/f058b/06-sample-app.png&quot;
        srcset=&quot;/static/f4e209589316e9406812844bf5ec3944/c26ae/06-sample-app.png 158w,
/static/f4e209589316e9406812844bf5ec3944/6bdcf/06-sample-app.png 315w,
/static/f4e209589316e9406812844bf5ec3944/f058b/06-sample-app.png 630w,
/static/f4e209589316e9406812844bf5ec3944/40601/06-sample-app.png 945w,
/static/f4e209589316e9406812844bf5ec3944/78612/06-sample-app.png 1260w,
/static/f4e209589316e9406812844bf5ec3944/a655e/06-sample-app.png 1563w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you go back to the EB view you can see the application health and there’s even a button to upload new code to EB. If you didn’t want a deployment pipeline you could just use that button.&lt;/p&gt;
&lt;h3&gt;Optional - add RDS&lt;/h3&gt;
&lt;p&gt;Just to go over how to add and use another service in EB, we will add a MySQL database to our app. This will be similar for whatever else you might want to add. I only picked RDS with MySQL since it’s very simple.&lt;/p&gt;
&lt;p&gt;Go to the configuration tab for you application.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/840e3e0a6a59801a68caf56cd9b3bb2c/cc6fe/07-eb-config-tab.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+0lEQVQoz2WSWZKDMAxEff+rUtQAXuSFZR5u4iSV/rIt9SKB22L+88mn4qNt6xpCMLOUkpVmueXa9heOFyybD5EXF1Kmrx0X7d57mE3YLx734/oFtFYrBxfDWkrhlFIEZwfXWkqMAR+9oIZ0rXW80OXW9SHDnOcZVckTYZomCMMNdZi66uC835hQZYTvvPuOLOdsxgqQPs9DoooAU1dHc4950Y157aCccyYIzsoFZ1kWbFR9nD83oVE01b2V1jS/crKkciMr2hfZOqRKjS5s8b8lYLZGLim+Yw8yuqQaK6EJE9rGwmr/PCPjF/n5QrXqf5B25zxWmkUzq/oPYZ1MoXknm/wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;eb-config-tab&quot;
        title=&quot;eb-config-tab&quot;
        src=&quot;/static/840e3e0a6a59801a68caf56cd9b3bb2c/f058b/07-eb-config-tab.png&quot;
        srcset=&quot;/static/840e3e0a6a59801a68caf56cd9b3bb2c/c26ae/07-eb-config-tab.png 158w,
/static/840e3e0a6a59801a68caf56cd9b3bb2c/6bdcf/07-eb-config-tab.png 315w,
/static/840e3e0a6a59801a68caf56cd9b3bb2c/f058b/07-eb-config-tab.png 630w,
/static/840e3e0a6a59801a68caf56cd9b3bb2c/40601/07-eb-config-tab.png 945w,
/static/840e3e0a6a59801a68caf56cd9b3bb2c/78612/07-eb-config-tab.png 1260w,
/static/840e3e0a6a59801a68caf56cd9b3bb2c/cc6fe/07-eb-config-tab.png 1860w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Scroll down for the database card and click &lt;code class=&quot;language-text&quot;&gt;Modify&lt;/code&gt;. You will be presented with a form to create a new database. You can fill in the form similarly to how I have below. I have chosen the cheapest options as I will be deleting all this soon after.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3c42bdc4c17a5e3fd6337d756b77ec9e/701e9/08-db-config.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3UlEQVQoz5VSW3LEIAzj/pfrFXqABMgmxjxsqGKmO+m2zbT6YAxjWbISR8cjlzLGIKJ1XUMIZDg+Ma/MXC9QVVBcIhI5K/Qty+K9jxETgvdh9SHEbTeklEopOed5ishJjjFSIlR4Qv1ssvFd+7iBgyBaUZVSt22DQ9DAb62pASK9/zzDPStw5pKcT4htdQ93vWTEwrnV+pvUHRkLQxmn/kH2lQznYMIznOt/bTOnfT/OwGqdOQGY0i+YKc6v8KqMvwPeTZtbE2SOx/YNw0L5QrbBYlJ6kxlXfXt/NOkfl6yIEkkxicEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;db-config&quot;
        title=&quot;db-config&quot;
        src=&quot;/static/3c42bdc4c17a5e3fd6337d756b77ec9e/f058b/08-db-config.png&quot;
        srcset=&quot;/static/3c42bdc4c17a5e3fd6337d756b77ec9e/c26ae/08-db-config.png 158w,
/static/3c42bdc4c17a5e3fd6337d756b77ec9e/6bdcf/08-db-config.png 315w,
/static/3c42bdc4c17a5e3fd6337d756b77ec9e/f058b/08-db-config.png 630w,
/static/3c42bdc4c17a5e3fd6337d756b77ec9e/40601/08-db-config.png 945w,
/static/3c42bdc4c17a5e3fd6337d756b77ec9e/78612/08-db-config.png 1260w,
/static/3c42bdc4c17a5e3fd6337d756b77ec9e/701e9/08-db-config.png 1780w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once you click Save, be sure to click Apply on the next screen.&lt;/p&gt;
&lt;p&gt;Worth noting, if you already have a database in AWS, you can bind that instead of creating a new one if you wish.&lt;/p&gt;
&lt;p&gt;You can also just access any database from your app as normal but there are some advantages to using the binding in EB. One being that you get some environment variables injected so that your app can use them to connect to the database&lt;/p&gt;
&lt;p&gt;For RDS these are:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;RDS_HOSTNAME
RDS_PORT
RDS_USERNAME
RDS_PASSWORD
RDS_DB_NAME&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For other services you get similar things so it’s really handy. You don’t need to worry about securely distributing credentials to your application yourself.&lt;/p&gt;
&lt;h3&gt;Step 1 done&lt;/h3&gt;
&lt;p&gt;Now we have our EB application ready to use. This will have created an EC2 instance to host our application with Node.js setup. We also happen to have a load balancer and auto-scaling which are nice things to have although we won’t use them here. You could have chosen a single instance deployment too.&lt;/p&gt;
&lt;p&gt;Next we’ll look at setting up a user and user group to allow our CI system permissions for deploying our application.&lt;/p&gt;
&lt;h2&gt;2. Configure IAM with a deployment user and user group&lt;/h2&gt;
&lt;p&gt;For this we want to create a user group that has the correct permissions to deploy to our EB application. We will create a user for CodeShip to use. We will also set up some policies that give just enough permissions for that user group.&lt;/p&gt;
&lt;p&gt;In this section we will:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a policy for S3 access&lt;/li&gt;
&lt;li&gt;Create a policy for EB access&lt;/li&gt;
&lt;li&gt;Create a deployment user group and attach the policies we created&lt;/li&gt;
&lt;li&gt;Create a deployment user for CodeShip and add them to the deployment user group&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Create a policy for EB access&lt;/h3&gt;
&lt;p&gt;Go to the &lt;a href=&quot;https://console.aws.amazon.com/iam/home&quot;&gt;IAM&lt;/a&gt; service in your AWS console. Click on the &lt;code class=&quot;language-text&quot;&gt;Policies&lt;/code&gt; link on the left.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cb31902c13ac74a94448458b43455252/65d79/09-policies-page.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABj0lEQVQoz22RS3KbQBiEuf8pfIVU9j5AKptsXLGkRIoVmBcwb2ZgHrghTixV3AULGL6//26asGutdYrLpy/Xh8cfn7+2jJLL5cIYSynle+HN8lcNSO99rRUHp/P12/PL05lRLggho5TzvWKMWqtxxIlUSjW4nXPrupZSKGl/nn89fT8cDkdKKOfwZvxGlNLT6XTddTweG2stNvkDex/M0LL2/EIGKqTSxjtr7tV1nRACfptzz4hzHnAFjRGeW0mYKUxFrmczbXPfVavRuhcCgfHU7BkkYuMglTU5rgdCVWJyIuMk3ZzLrTK+hzPCo6ZGaY1usAPG5rpmx/TQtXLpRt8N0+9+4zfHXaCVlCgC8OaMwKgRVW+FA/bCSspN5ioIHbF8XMotrLWG8xznDQ5hstYgwxvsuBk6olI3eDoGmHMd55Q/dn7vAoF22I4d04nKicrQmyjdov1S/sFKco7M80ew32A4oy3ATIUw57vMSuGH/+dcC9peXG8ko3AeJ5BEBhsSCn+7ckbBXPQhRuzyChyGrfK7tv0aAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;policies-page&quot;
        title=&quot;policies-page&quot;
        src=&quot;/static/cb31902c13ac74a94448458b43455252/f058b/09-policies-page.png&quot;
        srcset=&quot;/static/cb31902c13ac74a94448458b43455252/c26ae/09-policies-page.png 158w,
/static/cb31902c13ac74a94448458b43455252/6bdcf/09-policies-page.png 315w,
/static/cb31902c13ac74a94448458b43455252/f058b/09-policies-page.png 630w,
/static/cb31902c13ac74a94448458b43455252/65d79/09-policies-page.png 905w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Click the &lt;code class=&quot;language-text&quot;&gt;Create Policy&lt;/code&gt; button. Select the JSON tab like below.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e2b30ae591026f1a511b65bc6355bd1a/89048/10-iam-policy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.734177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxElEQVQoz52O227EMAhE/f+f2aTpPjTxBQO+gUs22rZvrTI+HsEgZDsmJiQiNhU7XMxLqXav9sytpLMirqXJ1OmhiUxXCCgnhJhTML+gbCTzM4fwmgaAZA9JLypNR3OUN4S14jvDYlRcLy95+cHaV8LwZk64Df5w4XjE48Fxkw4qpAOf0BP81X6HVCuC/Yuz2/f98AvEdeCn9KgKfzIEak99sDuOnShB8qPglDZn/yeqw8UY5y2pqgsh3F/23t9fRkS9qy/SjEj9M7lNZAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;iam-policy&quot;
        title=&quot;iam-policy&quot;
        src=&quot;/static/e2b30ae591026f1a511b65bc6355bd1a/f058b/10-iam-policy.png&quot;
        srcset=&quot;/static/e2b30ae591026f1a511b65bc6355bd1a/c26ae/10-iam-policy.png 158w,
/static/e2b30ae591026f1a511b65bc6355bd1a/6bdcf/10-iam-policy.png 315w,
/static/e2b30ae591026f1a511b65bc6355bd1a/f058b/10-iam-policy.png 630w,
/static/e2b30ae591026f1a511b65bc6355bd1a/40601/10-iam-policy.png 945w,
/static/e2b30ae591026f1a511b65bc6355bd1a/89048/10-iam-policy.png 1242w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Insert the following JSON, replacing my region and account ID with yours.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;quot;Version&amp;quot;: &amp;quot;2012-10-17&amp;quot;,
    &amp;quot;Statement&amp;quot;: [
        {
            &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;,
            &amp;quot;Action&amp;quot;: [
                &amp;quot;autoscaling:ResumeProcesses&amp;quot;,
                &amp;quot;elasticloadbalancing:RegisterTargets&amp;quot;,
                &amp;quot;autoscaling:SuspendProcesses&amp;quot;,
                &amp;quot;elasticloadbalancing:DeregisterTargets&amp;quot;,
                &amp;quot;elasticbeanstalk:CreateApplicationVersion&amp;quot;,
                &amp;quot;elasticbeanstalk:DeleteApplicationVersion&amp;quot;,
                &amp;quot;ec2:DescribeImages&amp;quot;,
                &amp;quot;elasticbeanstalk:DescribeEnvironments&amp;quot;,
                &amp;quot;autoscaling:DescribeScalingActivities&amp;quot;,
                &amp;quot;autoscaling:DescribeAutoScalingGroups&amp;quot;,
                &amp;quot;elasticloadbalancing:DescribeTargetHealth&amp;quot;,
                &amp;quot;elasticbeanstalk:UpdateEnvironment&amp;quot;,
                &amp;quot;elasticloadbalancing:DescribeInstanceHealth&amp;quot;,
                &amp;quot;ec2:DescribeKeyPairs&amp;quot;,
                &amp;quot;elasticloadbalancing:DeregisterInstancesFromLoadBalancer&amp;quot;,
                &amp;quot;elasticloadbalancing:RegisterInstancesWithLoadBalancer&amp;quot;
            ],
            &amp;quot;Resource&amp;quot;: &amp;quot;*&amp;quot;
        },
        {
            &amp;quot;Effect&amp;quot;: &amp;quot;Allow&amp;quot;,
            &amp;quot;Action&amp;quot;: [
                &amp;quot;sns:ListSubscriptionsByTopic&amp;quot;,
                &amp;quot;sns:GetTopicAttributes&amp;quot;,
                &amp;quot;sns:CreateTopic&amp;quot;,
                &amp;quot;cloudformation:DescribeStackResources&amp;quot;,
                &amp;quot;s3:CreateBucket&amp;quot;,
                &amp;quot;s3:ListBucket&amp;quot;,
                &amp;quot;cloudformation:DescribeStackResource&amp;quot;,
                &amp;quot;s3:GetBucketPolicy&amp;quot;,
                &amp;quot;s3:PutObject&amp;quot;,
                &amp;quot;s3:GetObjectAcl&amp;quot;,
                &amp;quot;s3:GetObject&amp;quot;,
                &amp;quot;cloudformation:GetTemplate&amp;quot;,
                &amp;quot;cloudformation:UpdateStack&amp;quot;,
                &amp;quot;sns:Subscribe&amp;quot;,
                &amp;quot;s3:DeleteObject&amp;quot;,
                &amp;quot;s3:PutObjectAcl&amp;quot;
            ],
            &amp;quot;Resource&amp;quot;: [
                &amp;quot;arn:aws:sns:eu-west-1:123456789123:*&amp;quot;,
                &amp;quot;arn:aws:s3:::elasticbeanstalk-eu-west-1-123456789123&amp;quot;,
                &amp;quot;arn:aws:s3:::elasticbeanstalk-eu-west-1-123456789123/*&amp;quot;,
                &amp;quot;arn:aws:cloudformation:eu-west-1:123456789123:*&amp;quot;
            ]
        }
    ]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Click review policy and fill out the next form. Fill in detail that make sense to you and will make it easy to find the policy later.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b449048780e46fa41a2dbef413d4fbed/5205c/11-eb-iam-review.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVQoz4VS21KDMBDl/z/JT/DVUaf2SgEtoQQScr+AJ9RiRx17ZkmWnU3O7slmSqm+74dhYIyFEKZ7iGNaHzf04anJxhnxivEekDFNY8NMRXUGwq7rQC6l/EHy/y1IyJxzOEYpRf1mhp6B+HLF7+IRQ/1ZaiNGa63WirZt11HW94wlw3UIKiVj/FuLdNh7H4JXxnNphLJSO6EtHERg0njjovXjrTk/hjglwdAwymbCMMY5dB8ENrDeFrnYRW3hbG9ctmRIE7QL2gbwwOAom35BjnXhNB5dTsXQvwv+1TNeGFIJIQeBRQkp+YBdK23gW+di4kSpyeKiNr7LnHDOoRbEtrPm7gJroX7btudzA4NDafIJqXHqu2xCyHa3q2vspCFNURy3201VFnVdl1es1+vVagWnKApoky0viVtfXl/3hzw/HPJjucmr57f9/ljRKzBLp9OpqlIEyZiFW8Fc2bCWCTytNqbt+Adpz7RHEkTBc2LFOKFBNAWNQPkJmWjv1Qq9ibcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;eb-iam-review&quot;
        title=&quot;eb-iam-review&quot;
        src=&quot;/static/b449048780e46fa41a2dbef413d4fbed/f058b/11-eb-iam-review.png&quot;
        srcset=&quot;/static/b449048780e46fa41a2dbef413d4fbed/c26ae/11-eb-iam-review.png 158w,
/static/b449048780e46fa41a2dbef413d4fbed/6bdcf/11-eb-iam-review.png 315w,
/static/b449048780e46fa41a2dbef413d4fbed/f058b/11-eb-iam-review.png 630w,
/static/b449048780e46fa41a2dbef413d4fbed/5205c/11-eb-iam-review.png 833w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Create a deployment user&lt;/h3&gt;
&lt;p&gt;In the IAM console, click the Users link on the left menu and click the Add user button.&lt;/p&gt;
&lt;p&gt;Create a user to use in your CI system (I am calling mine codeship-deployer since I am using CodeShip). Select the Programmatic access option.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/54d01f45c52a37d728759aaae1a5ca7f/0f67e/12-new-user.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.15189873417721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABUklEQVQoz5VSu1LDMBD0r9PxIRQUdDR0fAGhZdKE2AqO46cSSdbbrGTivAZCds43knx7ur1TwjlnjEsphz/hvId/nhWfG4adMcZam4AL/o4xIcRwDUxaY/249t4nRVHkeb5araqqCll2yMPwYbGNoFyz3viISDkgmbJqrUUvuNR0J7asl9op449NKGedn+JPyJDNhfiq+SJv04IyGcjyyLiy52TnHKTDD7ElUGRcMH9NfyBvyhKyy4iOdjpAaSWVlGhhfwxscajQM/ejWSmESXhKadu2jAv4pmm6rpvIckRYqH6v/FwzfmJ8hJCMkDRNq7pmse0AegmEa/Yv4oQ8AvqXy+UiIsuy9Xrdo1ilptqHwf9KxlFV1Rj4odooKlYdzhDgRnMX5JuQjL25vD++p1NFznNpX2bk7vHt/un94XUe5hyG/A+M6cpOfGT1nDSk3H4DnkEvvnz4wawAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;new-user&quot;
        title=&quot;new-user&quot;
        src=&quot;/static/54d01f45c52a37d728759aaae1a5ca7f/f058b/12-new-user.png&quot;
        srcset=&quot;/static/54d01f45c52a37d728759aaae1a5ca7f/c26ae/12-new-user.png 158w,
/static/54d01f45c52a37d728759aaae1a5ca7f/6bdcf/12-new-user.png 315w,
/static/54d01f45c52a37d728759aaae1a5ca7f/f058b/12-new-user.png 630w,
/static/54d01f45c52a37d728759aaae1a5ca7f/0f67e/12-new-user.png 921w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Create a deployment user group&lt;/h3&gt;
&lt;p&gt;Rather than give the user permissions directly, it can make sense to use a user group instead. This makes life a little easier if you end up wanting to add more CI systems with their own users or something like that.&lt;/p&gt;
&lt;p&gt;In the IAM console, click the Groups option on the left. Click the Create New Group button.&lt;/p&gt;
&lt;p&gt;Give the group a sensible name. I just called mine Deployment.&lt;/p&gt;
&lt;p&gt;In the user group menu, select the Permissions tab and click Attach Policy.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4baf6f277ef4e00906f7a1222de1b71e/3534c/13-attach-policy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.77215189873418%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAuUlEQVQY042QOxLCMAxEfXK4BNeAG3AE0lFlmEnBkDi25I9sk5hgUKgh5BXqdvatBKAxxt5d52STnLLWKqUQsZTy+ofQWgMihQCAMUaO9X0PADnnxyLTNIlAXsu2b69a3ozB8IGI3CJK62EYhLLx3KhTLau6a+WsjQB8eUxKieWfP5ibq4Z2x+v2UG/2F0WZl6wYO8N5kWIgi95AIstVcR1sPo6j4IX8MN6Axsa4Nuy954+KstLym/Yban7L8bj3D44AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;attach-policy&quot;
        title=&quot;attach-policy&quot;
        src=&quot;/static/4baf6f277ef4e00906f7a1222de1b71e/f058b/13-attach-policy.png&quot;
        srcset=&quot;/static/4baf6f277ef4e00906f7a1222de1b71e/c26ae/13-attach-policy.png 158w,
/static/4baf6f277ef4e00906f7a1222de1b71e/6bdcf/13-attach-policy.png 315w,
/static/4baf6f277ef4e00906f7a1222de1b71e/f058b/13-attach-policy.png 630w,
/static/4baf6f277ef4e00906f7a1222de1b71e/3534c/13-attach-policy.png 808w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Find the policies we created earlier and attach them.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9a18dcb0043698f7b2f63563ba74167f/c1c45/14-policies-to-add.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJ0lEQVQ4y+2Uy26DMBBF/f8f00X/o1I3WZACSiHUBkxt/MAQXr02JVLbTapKXeUI4fF47ni4C4gxmjLGyhIva+00TRcwevb1M5jn5RsEAs55E5BSaqCUalttsGqN3hq7Frn5h5rgqtDbtx+GwfVg8E+Ih0AfQCX00w5iYozxI1e8qEXZSMplozrVT8qNrZuk2gbYBvITMMqyPMvzHLN4cVVVlNI0TaMoOp1eq7JMkgRxdIyKQBy/xHF8PheUviGNTZZlXtxfRmV7TCjEO87QBVmzg2lhCpKws65rawwCRincwReQcV76YGTXWSEEbHPOXb1Z1xWOoFR5NJzB6NiiBkdk/comuBGy/oG7+C7+L/FyA1vh9Yfyi5uhlXY4FObxmT88VYfCfgDkpdBxRD8/bQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;policies-to-add&quot;
        title=&quot;policies-to-add&quot;
        src=&quot;/static/9a18dcb0043698f7b2f63563ba74167f/f058b/14-policies-to-add.png&quot;
        srcset=&quot;/static/9a18dcb0043698f7b2f63563ba74167f/c26ae/14-policies-to-add.png 158w,
/static/9a18dcb0043698f7b2f63563ba74167f/6bdcf/14-policies-to-add.png 315w,
/static/9a18dcb0043698f7b2f63563ba74167f/f058b/14-policies-to-add.png 630w,
/static/9a18dcb0043698f7b2f63563ba74167f/c1c45/14-policies-to-add.png 824w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Access Keys&lt;/h3&gt;
&lt;p&gt;Before we go on to the next step, you will need to get access keys for the user we created. For this, select the user by clicking on any hyperlink with the user name or navigating to the user in the users menu. Select the Security credentials tab for the user You should end up at a URL like this &lt;a href=&quot;https://console.aws.amazon.com/iam/home?region=eu-west-1#/users/codeship-deployer?section=security_credentials&quot;&gt;https://console.aws.amazon.com/iam/home?region=eu-west-1#/users/codeship-deployer?section=security_credentials&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Click on &lt;code class=&quot;language-text&quot;&gt;Create Access Key&lt;/code&gt;. You will be shown an Access key ID and Secret access key. Keep this for the next step where we will configure our pipeline and will have to provide these keys.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bf7c8ab8b84039fbb41aeb8e7978dde5/9d76a/15-keys.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIElEQVQoz5WR23KDIBCGef8nbKIx8QCCwAjCAiqZdDWxk/am7c83sAdYhoVU1QVVlmVRFF3bKinlMPyGFFz0fU/sZEMMDrwH74KHCP5JOIwIsBHgZWxgFk8RHUaWZB8li4NdHdzDDzySvVt3MrgVfAbcGe+JjNG4u+eGn2l562smaSc6OnxBe92rSYlR4LxhpTTKJBtzIiZaLG+CVZOWmHNaOSV30MbIGIxf4XXzDrrT4lKeCTaIUda2LaVUKfX4jwg2raqqj9OprmvOuRiG6/V6LnCcsaLYxMWh4RDujDESa63WijH2DIUY8a+wUNM0dX1r2wZLoN1Rqi0sy/xUSinnTAAAl+UIp13zPL+535x3EbxwHEd8rf6zsE2XqsKDnzn7Mlc4ATQHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;keys&quot;
        title=&quot;keys&quot;
        src=&quot;/static/bf7c8ab8b84039fbb41aeb8e7978dde5/f058b/15-keys.png&quot;
        srcset=&quot;/static/bf7c8ab8b84039fbb41aeb8e7978dde5/c26ae/15-keys.png 158w,
/static/bf7c8ab8b84039fbb41aeb8e7978dde5/6bdcf/15-keys.png 315w,
/static/bf7c8ab8b84039fbb41aeb8e7978dde5/f058b/15-keys.png 630w,
/static/bf7c8ab8b84039fbb41aeb8e7978dde5/9d76a/15-keys.png 829w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;3. Configure a deployment pipeline with CodeShip&lt;/h2&gt;
&lt;p&gt;I will be using CodeShip specifically here but I guess the instructions would be reasonably similar for other tools too. I am going to assume you have a project setup and all you have left to do is configure a deployment. Select the deploy option in project settings and select Amazon ELastic Beanstalk.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/057a71280eb9d4c3ec2f3bf7ebdc5fc5/58354/16-cs-deploy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAUlEQVQoz21S207DMAzt/38LH8DLBK9M4hnxSpeuTBWQLTfHsbNkadKOzjqqfDuyT9xumn4OYjiI8asXYhjH75MYjr0YHHiPoQA8Nn+NLmTDyIQYEnKAgYiZY0OydViQerqc53g2PgWxmvOm+al8+u2Zl2rLJ3IEpOf9p1R2zhK/f7x6hBIap3dvT40MEOSfLZO6knXOtnJyAHwLkxBrYT25CuFuyW4W2+x5r7mRedNXjIiMMUppa/Oq/197nuyniKqRqbIR/UUZedZKKcxG9+QsS8PxhYOrc+NlfpEYiLUFKaXW+nbFLZk5hOVQtxtGfqD50dqrvyBy1d/80pA+W81X9vSHV6u5+HUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cs-deploy&quot;
        title=&quot;cs-deploy&quot;
        src=&quot;/static/057a71280eb9d4c3ec2f3bf7ebdc5fc5/f058b/16-cs-deploy.png&quot;
        srcset=&quot;/static/057a71280eb9d4c3ec2f3bf7ebdc5fc5/c26ae/16-cs-deploy.png 158w,
/static/057a71280eb9d4c3ec2f3bf7ebdc5fc5/6bdcf/16-cs-deploy.png 315w,
/static/057a71280eb9d4c3ec2f3bf7ebdc5fc5/f058b/16-cs-deploy.png 630w,
/static/057a71280eb9d4c3ec2f3bf7ebdc5fc5/40601/16-cs-deploy.png 945w,
/static/057a71280eb9d4c3ec2f3bf7ebdc5fc5/78612/16-cs-deploy.png 1260w,
/static/057a71280eb9d4c3ec2f3bf7ebdc5fc5/58354/16-cs-deploy.png 1396w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You will be shown a form to fill in. If you have followed along so far you should have all the values you need for this ready to go. Fill in the form similar to what I have here.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0b344d1e3ad0360bf8f12514da218ad1/0931d/17-cs-eb-fill-in.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.60759493670886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVQY042RzQ6CMBCE+/7P4kUvvooxMZpoCL8CXaDt/hRXwKNA8h3aZKczszVpludlFZCQOEzgPnTSJGlWVu/ljqSwyB50zqiybuykZOfRT2qWuAFHnTOthdlWZdD1etglFlEXUzftUhhpfkhiVDZjo8bOi/JXWKB1wZEP1DstIWuQOrNxU0tmqR1citu1uNcWLAwev1v4C4knMXPgyOMDnofX6ZicAQfhce2f1LnvEOADnTXTLTYYzkEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cs-eb-fill-in&quot;
        title=&quot;cs-eb-fill-in&quot;
        src=&quot;/static/0b344d1e3ad0360bf8f12514da218ad1/f058b/17-cs-eb-fill-in.png&quot;
        srcset=&quot;/static/0b344d1e3ad0360bf8f12514da218ad1/c26ae/17-cs-eb-fill-in.png 158w,
/static/0b344d1e3ad0360bf8f12514da218ad1/6bdcf/17-cs-eb-fill-in.png 315w,
/static/0b344d1e3ad0360bf8f12514da218ad1/f058b/17-cs-eb-fill-in.png 630w,
/static/0b344d1e3ad0360bf8f12514da218ad1/40601/17-cs-eb-fill-in.png 945w,
/static/0b344d1e3ad0360bf8f12514da218ad1/78612/17-cs-eb-fill-in.png 1260w,
/static/0b344d1e3ad0360bf8f12514da218ad1/0931d/17-cs-eb-fill-in.png 1373w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;AWS Access Key ID&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;AWS Secret Access Key&lt;/code&gt; are the keys we generated for the deployment user. The &lt;code class=&quot;language-text&quot;&gt;Region&lt;/code&gt; is whatever region you created your EB stuff in. The &lt;code class=&quot;language-text&quot;&gt;Application&lt;/code&gt; is the name of the EB application we created. The &lt;code class=&quot;language-text&quot;&gt;Environment&lt;/code&gt; is the name of the environment we created for the application. The &lt;code class=&quot;language-text&quot;&gt;S3 Bucket&lt;/code&gt; is the name of the bucket being used by EB to store application resources.&lt;/p&gt;
&lt;p&gt;Now you can run your deployment pipeline. You probably need to push something to the branch you have configured to deploy.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;One little gotcha&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The first time I ran my pipeline I go this.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/162a57a7904041f2bbae48e233a27c03/98432/18-gotcha.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.0126582278481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+0lEQVQY02N4/eH927fv374DkR8+fPzw8dPnz1++fPkKRF+/fvsCRGA2GgKq+fTpC8P3v79//Pz969efH79+//nz9z/R4O+/fwxnjp84c+w4EJ0GkkA2EJ06fe78RSC6duPWlWs3z5y7cPb8RTR05uz5S1euMkgp60iq6EgBkaqulLI2mKEjpaQhraxl5xZg7uAhIa8mraSJjGSUtUSkle1dvRnkNA0UdY1ltY1ktIxk1A1kVPVllLVlFNSlFdTFZFWACKgZDUkqqAtKyNs4ezJ09/T39fR3dfd3dPV1AsluENnZPaGje0Jbdz8QtXaho7buCY1tPdPnLAAAwsvWwuplSU4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;gotcha&quot;
        title=&quot;gotcha&quot;
        src=&quot;/static/162a57a7904041f2bbae48e233a27c03/f058b/18-gotcha.png&quot;
        srcset=&quot;/static/162a57a7904041f2bbae48e233a27c03/c26ae/18-gotcha.png 158w,
/static/162a57a7904041f2bbae48e233a27c03/6bdcf/18-gotcha.png 315w,
/static/162a57a7904041f2bbae48e233a27c03/f058b/18-gotcha.png 630w,
/static/162a57a7904041f2bbae48e233a27c03/40601/18-gotcha.png 945w,
/static/162a57a7904041f2bbae48e233a27c03/78612/18-gotcha.png 1260w,
/static/162a57a7904041f2bbae48e233a27c03/98432/18-gotcha.png 1383w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;To fix it I went in to the deployment menu in my EB app, removed the sample app and deployed the new app that Codeship had put there. The pipeline worked from then on. I presume I missed some step somewhere or perhaps I should have uploaded the app I was going to deploy in the earlier steps instead of selecting the Sample App.&lt;/p&gt;
&lt;h2&gt;Testing things out&lt;/h2&gt;
&lt;p&gt;Your app should now be available to test. For me the public URL for my app was here.&lt;/p&gt;
&lt;p&gt;mytestapp.eu-west-1.elasticbeanstalk.com&lt;/p&gt;
&lt;p&gt;For you it will be the name of you app without hyphens + your region + .elasticbeanstalk.com&lt;/p&gt;
&lt;p&gt;Hit the URL to make sure the app is running.&lt;/p&gt;
&lt;p&gt;You can go in and check out application logs.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/55f0d6b183d264e54ef147a7160530c4/b88bf/19-env.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 28.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVQY06WP2w4CIQxE+f8/FYlyW2gLFEcwxn3bxBNIJtNOKaZUbkOJm4i0L723rjhDdZ5BWykl+EBEBndboCOzkfYZ1ccYpzz6w5tIxAZFWClla+/gsXgu7A3YEGNawEFo6xgjMxtmQfggyVWOI3vvUcPaqgrhnNsb4Y2cMxyIvoAwtVb9+Zgu5jXM/IMXbn1fyM6psn8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;env&quot;
        title=&quot;env&quot;
        src=&quot;/static/55f0d6b183d264e54ef147a7160530c4/f058b/19-env.png&quot;
        srcset=&quot;/static/55f0d6b183d264e54ef147a7160530c4/c26ae/19-env.png 158w,
/static/55f0d6b183d264e54ef147a7160530c4/6bdcf/19-env.png 315w,
/static/55f0d6b183d264e54ef147a7160530c4/f058b/19-env.png 630w,
/static/55f0d6b183d264e54ef147a7160530c4/40601/19-env.png 945w,
/static/55f0d6b183d264e54ef147a7160530c4/78612/19-env.png 1260w,
/static/55f0d6b183d264e54ef147a7160530c4/b88bf/19-env.png 1702w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If I hit issues deploying my app, I usually add a bunch of logging for things like the database connection or any other environment specific stuff and can check what is being picked up in those logs. Haven’t come up with a better way than that yet.&lt;/p&gt;
&lt;p&gt;That’s it. I hope it all worked out for you and you were able to get a deployment pipeline going. Please feel free to give any feedback or ask any questions in the comments section below.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Where to put Angular with Redux]]></title><description><![CDATA[I am reasonably new to Angular 2+ and have already made a bunch of bad decisions when using it with Redux. This is probably old news to most…]]></description><link>https://ruarfff.com/angular-and-redux/</link><guid isPermaLink="false">https://ruarfff.com/angular-and-redux/</guid><pubDate>Mon, 05 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I am reasonably new to Angular 2+ and have already made a bunch of bad decisions when using it with Redux. This is probably old news to most people but one thing I struggled with was how to work with Redux selectors and where to put them in components.&lt;/p&gt;
&lt;p&gt;I have dabbled with React and Redux and one thing I liked a lot was the concept of &lt;a href=&quot;https://reactjs.org/docs/components-and-props.html&quot;&gt;functional components&lt;/a&gt;. That’s where all the component state gets passed in as parameters and no internal modification of state is done. Therefore you can test any variation of the components behavior by modifying the inputs.&lt;/p&gt;
&lt;p&gt;If state needs to be changed, the component emits events that produce actions that alter the application state. Any interaction with external things like the Redux store would happen in container components where you bind the inputs and outputs for any child components.&lt;/p&gt;
&lt;p&gt;Good terms for these concepts that I came across in &lt;a href=&quot;https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0&quot;&gt;a post by Dan Abramov&lt;/a&gt; are Presentation and Container components. Presentation components being the simple components that take state as inputs and present it. Container components being the components that manage interaction with the likes of Redux and provide inputs to presentational components.&lt;/p&gt;
&lt;p&gt;I recently started working on a reasonably large angular project. I struggled with finding good examples and developing a good idea of where things should go to keep the code base clean.&lt;/p&gt;
&lt;p&gt;One thing that caught me out a lot was how coupled the component code was to Redux, or at least &lt;a href=&quot;https://github.com/angular-redux/store&quot;&gt;ng2-redux&lt;/a&gt;. This code base is making heavy use of the &lt;a href=&quot;https://github.com/angular-redux/store/blob/master/articles/select-pattern.md&quot;&gt;select pattern&lt;/a&gt; A typical component in the code base might look something like this, taking a really simple and made-up user list as an example.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-users&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./users.component.html&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UsersComponent&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OnInit&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;userManagement&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;users&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; users$&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Observable&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;User&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; userManagementActions&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; UserManagementActions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ngOnInit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userManagementActions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetchUsers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And a simple template for that.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;*ngFor&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;let user of (users$ | async)&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;{{ user.name }}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There’s nothing particularly wrong with this. It will work fine.&lt;/p&gt;
&lt;p&gt;From a design and clean code perspective, issues can start to crop up when this component is used in other components and if this component is going to get used in more that one place.&lt;/p&gt;
&lt;p&gt;Let’s look at how we might test this component.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;UsersComponent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; component&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; UsersComponent
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; fixture&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ComponentFixture&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;UsersComponent&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; userManagementActions&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; UserManagementActions
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; element&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; HTMLElement
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ngRedux
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; usersSelector

  &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    TestBed&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;configureTestingModule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      imports&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;NgReduxTestingModule&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      declarations&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;UsersComponent&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      providers&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;UserManagementActions&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;compileComponents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    MockNgRedux&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    usersSelector &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MockNgRedux&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getSelectorStub&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;userManagement&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;users&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    ngRedux &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TestBed&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;NgRedux&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;spyOn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ngRedux&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;dispatch&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    fixture &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TestBed&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UsersComponent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    userManagementActions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TestBed&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UserManagementActions&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    component &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fixture&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;componentInstance
    element &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fixture&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;debugElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nativeElement

    fixture&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;detectChanges&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should dispatch fetchUsers action&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ngRedux&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dispatch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toHaveBeenCalledWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      userManagementActions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetchUsers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should render users&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    usersSelector&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;one&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;First&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;two&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Second&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    fixture&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;detectChanges&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userElements &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;li&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userElements&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textContent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toContain&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userElements&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textContent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toContain&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It’s a really simple component but there is still a fairly large amount of boilerplate test setup code there. Also, we have really embedded Redux in to that component. The test needs to do a lot of mocking. We need to mock Redux, verify we dispatch an action on initialization, mock what comes from the store and test that we render that correctly.&lt;/p&gt;
&lt;p&gt;What if we need an almost identical component but want to dispatch a slightly different action on initialization?&lt;/p&gt;
&lt;p&gt;Doing all this setup for every component test gets to be a bit of a drag.&lt;/p&gt;
&lt;p&gt;There’s just a bunch of issues with doing components this way I think but it still seems to be a common pattern.&lt;/p&gt;
&lt;p&gt;The solution to avoid these issues may be really obvious to most but I had to struggle a bit before arriving at it.&lt;/p&gt;
&lt;h2&gt;Presentation Components&lt;/h2&gt;
&lt;p&gt;We don’t have the functional syntax for components that React has in Angular but we have something similar.&lt;/p&gt;
&lt;p&gt;Angular components have the &lt;a href=&quot;https://angular.io/api/core/Input&quot;&gt;@Input()&lt;/a&gt; and &lt;a href=&quot;https://angular.io/api/core/Output&quot;&gt;@Output()&lt;/a&gt; property decorators. These allow us to take all the required state as inputs and emit any internal events as outputs. If we emit an event to update the Redux store for example, the inputs can be changed in the container and the components can be re-rendered. This way the component only needs to know how to present the input state and what to emit on an interaction.&lt;/p&gt;
&lt;p&gt;We could instead write the component like this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;app-users&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./users.component.html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  changeDetection&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ChangeDetectionStrategy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;OnPush&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UsersComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  @&lt;span class=&quot;token function&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  users&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; User&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The template would be updated to look like this (just removing the async pipe).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;*ngFor&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;let user of users&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;{{ user.name }}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The tests get a bit easier for that component then. Just set the value of the input add test the rendering.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;UsersComponent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; component&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; UsersComponent
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; fixture&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ComponentFixture&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;UsersComponent&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; element&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; HTMLElement

  &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    TestBed&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;configureTestingModule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      declarations&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;UsersComponent&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;compileComponents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fixture &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TestBed&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UsersComponent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    component &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fixture&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;componentInstance
    element &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fixture&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;debugElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nativeElement
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should render users&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    component&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;users &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;one&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;First&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;two&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Second&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    fixture&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;detectChanges&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userElements &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelectorAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;li&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userElements&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textContent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toContain&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;First&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userElements&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textContent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toContain&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Second&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There’s a lot less boilerplate and I think the tests are a lot cleaner since we are not mocking or stubbing internal state.&lt;/p&gt;
&lt;p&gt;Because we have kept the component so simple and with less dependencies it is easier to test and also much more reusable than if we used those Redux selectors directly.&lt;/p&gt;
&lt;h4&gt;changeDetection: ChangeDetectionStrategy.OnPush&lt;/h4&gt;
&lt;p&gt;You may have noticed we set the &lt;a href=&quot;https://angular.io/api/core/ChangeDetectionStrategy&quot;&gt;changeDetection&lt;/a&gt; property for the component. This is something we should try to use when writing our components this way. When we set this we are saying we will not change the inputs internally. This allows a little optimization because Angular won’t check the internal state to see if it needs to update the rendering. Therefore if you change the state internally, the updates will not get picked up for rendering. The change detection strategy checks the reference of the input and if that has not changed, it does nothing. This makes it work well with Redux since we will always bring back a new reference from the store if there was a change.&lt;/p&gt;
&lt;h2&gt;Container Components&lt;/h2&gt;
&lt;p&gt;We can’t avoid having dependencies between Redux and our components completely but we can keep it in container components.&lt;/p&gt;
&lt;p&gt;Say you have a component representing a page that contains a list of users and maybe something else. That could be the Container component since it probably won’t have any complicated things to do itself. For example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;some-other-thing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;some-other-thing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-users&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;[users]&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;users$ | async&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-users&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-user-management&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./user-management.component.html&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserManagementComponent&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OnInit&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;userManagement&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;users&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; users$&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Observable&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;User&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; userManagementActions&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; UserManagementActions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ngOnInit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userManagementActions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetchUsers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we only need to test the Redux related things there (with all the mocking and boilerplate setup code), keeping the child components simple.&lt;/p&gt;
&lt;p&gt;In React the tendency is to have one container component for each presenter with the container having no makeup of its own. This is another potential pattern to try out here.&lt;/p&gt;
&lt;h2&gt;Interactions&lt;/h2&gt;
&lt;p&gt;What if you need a component to dispatch and action to the store?&lt;/p&gt;
&lt;p&gt;So lets say the user list has a delete button and on clicking it, you want to fire off an action to delete that user.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;deleteUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userManagementActions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;deleteUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You could add that to the UsersComponent but then you’re back to adding all that Redux test stuff. Instead it might be good to emit that event using an Output.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
onDeleteUser&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; EventEmitter&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;User&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventEmitter&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;User&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;deleteUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onDeleteUser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;emit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we can dispatch the action in the container by listening for that event.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;some-other-thing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;some-other-thing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-users&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;[users]&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;users$ | async&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token attr-name&quot;&gt;(onDeleteUser)&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;deleteUser($event)&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-users&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;I am definitely finding Angular code easier to understand and test using this technique. It’s still not great but it’s a bit more manageable. Angular and Redux are both fine tools but, like any code bases, the code base using them can start to get pretty messy unless some decent patterns are used. The Container &amp;#x26; Presenter pattern is a good one for this scenario I believe.&lt;/p&gt;
&lt;p&gt;Some runnable example code for the above is here: &lt;a href=&quot;https://github.com/ruarfff/angular-demo-code/tree/master/src/app/user-management&quot;&gt;https://github.com/ruarfff/angular-demo-code/tree/master/src/app/user-management&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Introduction to Kubernetes]]></title><description><![CDATA[This post is a relatively short introduction to Kubernetes looking at some of the basic features. We will look at using kubernetes in two…]]></description><link>https://ruarfff.com/kube-intro/</link><guid isPermaLink="false">https://ruarfff.com/kube-intro/</guid><pubDate>Tue, 27 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;This post is a relatively short introduction to &lt;a href=&quot;https://kubernetes.io/&quot;&gt;Kubernetes&lt;/a&gt; looking at some of the basic features.&lt;/p&gt;
&lt;p&gt;We will look at using kubernetes in two ways. With the Google Cloud Platform (GCP) with &lt;a href=&quot;https://cloud.google.com/kubernetes-engine/&quot;&gt;GKE&lt;/a&gt; and with minikube.&lt;/p&gt;
&lt;p&gt;You can use one or the other or both, or indeed some other cloud provider but GCP and minikube are what we will use here. I recommend playing around with both GCP and minikube since it won’t cost you anything. For GCP you need a Google account but you will also need a way to setup billing which pretty much means you will need a credit card. You won’t have to spend money but you will need to have billing enabled in the GCP account.&lt;/p&gt;
&lt;h3&gt;Install the GCP SDK&lt;/h3&gt;
&lt;p&gt;Instructions here are good and cover all platforms: &lt;a href=&quot;https://cloud.google.com/sdk/&quot;&gt;https://cloud.google.com/sdk/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can also just use the cloud console in the GCP UI but I will use &lt;code class=&quot;language-text&quot;&gt;gcloud&lt;/code&gt; in the examples here.&lt;/p&gt;
&lt;h3&gt;Install kubectl&lt;/h3&gt;
&lt;p&gt;Assumes you have followed the instructions above and installed &lt;code class=&quot;language-text&quot;&gt;gcloud&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt; gcloud components &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; kubectl&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Google Cloud Platform&lt;/h3&gt;
&lt;p&gt;You can just skip forward and setup minikube if you prefer but I recommend using this to have something a little more ‘real’.&lt;/p&gt;
&lt;p&gt;First you need a google account. Not much point me explaining how to do that I guess.&lt;/p&gt;
&lt;p&gt;Then you will need to setup a GCP dashboard for yourself (if you haven’t one already). Just open this link &lt;a href=&quot;https://console.cloud.google.com/start&quot;&gt;https://console.cloud.google.com/start&lt;/a&gt; and follow the instructions.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8105e4bab9a47f7ce2204908eb6d5caf/de9fe/dashboard.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40.50632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABB0lEQVQoz52Qy0rDQBiF87iiiBsrQnFRX0GIqyJV0AcQVxaq7UoRte0rBJpIJ8pMM5lLmuNcHI0YFzrwcQ7/HA7/TNTpZ9g/SdEx7A0y7PYX2DlOsB0n2DhKsBkvsBWn6A5SHJxm6J3n6F385NDQPSOILu8oru4ZbmcMwweCmynFaLZyDJ8Yrh894znDZG5ztJWxYfRMERVcghUSWFs4AKNQ/yaSUsIihEEqlEbbkEqbnP71PvBZ2EQp5Qje6nJJwHkJe+q6dgTfzH4rVC3lIfj2SkApdV4I8fEqr1rrr8KwTRs+5L9iMs3xQhh4sTIz7UqUmVv9Y6HXLBfgpd1YoKoqVxK0mX0HSiNYQAlmCAsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;Dashboard&quot;
        src=&quot;/static/8105e4bab9a47f7ce2204908eb6d5caf/f058b/dashboard.png&quot;
        srcset=&quot;/static/8105e4bab9a47f7ce2204908eb6d5caf/c26ae/dashboard.png 158w,
/static/8105e4bab9a47f7ce2204908eb6d5caf/6bdcf/dashboard.png 315w,
/static/8105e4bab9a47f7ce2204908eb6d5caf/f058b/dashboard.png 630w,
/static/8105e4bab9a47f7ce2204908eb6d5caf/40601/dashboard.png 945w,
/static/8105e4bab9a47f7ce2204908eb6d5caf/78612/dashboard.png 1260w,
/static/8105e4bab9a47f7ce2204908eb6d5caf/de9fe/dashboard.png 2146w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;When on that page click the ‘Create’ button to create a project.&lt;/p&gt;
&lt;p&gt;When selecting a name for your project try to use something globally unique to you. For example, for me I append my username.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6fad110f2cf65eaa5f0b0087ba7d6293/f4281/new-project-name.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABl0lEQVQ4y6WSsW7TUBSG/UrQEYkFUShiBAZUVAYGBhY6VUiIAgugQgfEAH0MmHgEJCQQAgWaOE2da8fpjRP7xthJbH+c2AWkKgkFjvTpv74+v/Xfc22dvac5tdHl/H3NygPNsjyfuas5t6m5+LBX6uk7B5y43eXk+myW1n3p1Vx+EmBd3Trg0qMuN55rbr3sce2pz9q2z6ro9e1qfeVxh5VNjwtzcVl75nHzRQdLeT3cjsZxp/ToRwnhcCyMGBhBNIrHDL8vJopHpcdq2g3sRp2m8O1rjWwy5n/KOrpRFAVZlpPnOdkxKXuzCstx2ti2jWoroshUTYcv81+G4jfFbIpDrN2mz/uPu3z4VOdzrUWt3qbR8gnjgmECRgjjXOaTyTwFcwTZ64tOsqI6chr3GWhFx3NpK4/9fYe9vRZKuYIqNQgCdD8lHUkKZiedpis/+PZdwM5rl5YbEZsBxhhGaUqSJKRTZD2Ri5rICH6a5lV55FdvumzsKL40Q3zPIQzNH03zmHnLxzEtSmpVjfyVaeF/+C8pFtUPM4LGeJhnLGYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;New Project&quot;
        src=&quot;/static/6fad110f2cf65eaa5f0b0087ba7d6293/f058b/new-project-name.png&quot;
        srcset=&quot;/static/6fad110f2cf65eaa5f0b0087ba7d6293/c26ae/new-project-name.png 158w,
/static/6fad110f2cf65eaa5f0b0087ba7d6293/6bdcf/new-project-name.png 315w,
/static/6fad110f2cf65eaa5f0b0087ba7d6293/f058b/new-project-name.png 630w,
/static/6fad110f2cf65eaa5f0b0087ba7d6293/40601/new-project-name.png 945w,
/static/6fad110f2cf65eaa5f0b0087ba7d6293/f4281/new-project-name.png 1016w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Notice it says ‘Your project ID will be {the ID}’ and in my case the ID matches the name I specified.&lt;/p&gt;
&lt;p&gt;Beware if you use a name that has already been used somewhere else in the world, like in this example:
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/11922aac4d591b1290d23a345fb4b9b2/f79fa/new-project-random-id.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.39240506329114%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABpElEQVQoz5WRy27TQBSG54W47NiwYwFigUC8AhtAKlGhCCSQChIgxLqVEC0LhHgYxLJRDU3ckMaxx4mdixPbY3v8MW4aKUAC7ZE+/XM5c+afOeLShs+V5z0uP/G5+brPrTd9rr+cce1Fn9tvA268Cri62edCTXJuTXL+wUznzOcXax5i7b3k6acB6zsBzz6HbH4Z8GjX5/FHycMdycauNHPJ+gfJvW2Pu1urub/tItAZrtNmEEh6sosvXao1KA36zAiV5Vjff+A4XWzbptG0UaoqaLZNzXIBfQpEWWr+jNKc1lqfifJERZ5l7NUtDho2zeZPoklMlpcGvYJyJUVRIhKlsRod9vYPsQ7a1C2bVluSmlcnCuKKFKZpeYJmkmiiuPiNam00LYzDvCAMfKTrmH90Oeq4tI+cY+0YnK6H6/XMnkcQDpFBSmUiL2auKl1EpJnm237A17pPOIyYTCLG4xFRNGY8mmkcT0mThEwpUlUcN2hViG6Qceddi9qWg3UY0rIbpmDE/6Jq3DJEYXrtDxS9oTKW9T+TF5nn/eVw2c3LxqeNX8zAei1zTzwLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;New Project Random ID&quot;
        src=&quot;/static/11922aac4d591b1290d23a345fb4b9b2/f058b/new-project-random-id.png&quot;
        srcset=&quot;/static/11922aac4d591b1290d23a345fb4b9b2/c26ae/new-project-random-id.png 158w,
/static/11922aac4d591b1290d23a345fb4b9b2/6bdcf/new-project-random-id.png 315w,
/static/11922aac4d591b1290d23a345fb4b9b2/f058b/new-project-random-id.png 630w,
/static/11922aac4d591b1290d23a345fb4b9b2/f79fa/new-project-random-id.png 940w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You will get a random ID, which is a pain because whenever you need to use the ID you have to go digging for it (for some reason I keep forgetting where to find it) but the name is always visible in the UI and easier to remember.&lt;/p&gt;
&lt;p&gt;Next you will want to go the the API manager dashboard.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f1515d7512fb90ec00256043f0c29da4/0b569/api-manager-menu.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABm0lEQVQoz1VSi27UMBDM//8AAgFCgNo/gFIhDv6kd71H3t7YSRznccOOW59gpZXX49nZsZPsyy+LrzuH+z8OrN99N/jww+DttxrvH1rc/TaagvvXZH23U2wnyhN8fBR8+tnhzaPB54cTstHP6PsR27oC1w394DGHSWsPQDEsmgHYFFtHxUPE122AW1v0S4su1JAgsN4hK6sGx1MOIw6tWLTGoCgrEB9UfLuqXJgVF4h0mLS+EpsX5EUZudb1OmCDcyqY5znqusYy06lD0zQoyzKm916br1jVfVqXZbnVPLedvfGsVcFpmsBkkGytjZOGYcCmU2cdRJyRBBnsEZHIG8cxcqPDBDAIsqbjvu//c/ZvpkG8Dd0lXhSkAF0lIgk84Mom4iGE6IQ4XbGHZ8Qoyn16guiwNW1soiD31tnbVdftRZBC6a0YrI1+wKqqYg+57MlY+NEjBUWTo/S2DAqloS+AvqOfML4+WfpY2dPhCcfzCefLGSddD8dn7A/7mJfigrqpY0on8SasjRj9rUrsnw+xNy9y5GWBoq7wF40k+5SwvlE+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;API manager menu&quot;
        src=&quot;/static/f1515d7512fb90ec00256043f0c29da4/f058b/api-manager-menu.png&quot;
        srcset=&quot;/static/f1515d7512fb90ec00256043f0c29da4/c26ae/api-manager-menu.png 158w,
/static/f1515d7512fb90ec00256043f0c29da4/6bdcf/api-manager-menu.png 315w,
/static/f1515d7512fb90ec00256043f0c29da4/f058b/api-manager-menu.png 630w,
/static/f1515d7512fb90ec00256043f0c29da4/40601/api-manager-menu.png 945w,
/static/f1515d7512fb90ec00256043f0c29da4/78612/api-manager-menu.png 1260w,
/static/f1515d7512fb90ec00256043f0c29da4/0b569/api-manager-menu.png 2878w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Click ‘Enable API’ near the top of the page.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3413de31980269322eda1e2d2188c3cc/60708/enable-api.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABX0lEQVQoz51SXUvDMBTt//8xDhw4fRFEmKBT8WEobHPK2rV063eTNEnbY25cZlF80AuHm/txbs5t451OdxhPY0xuU1zclxhdxziflTiZ1hjdVLh8qgdgA9SYzGqc3dWGV2P8KHD1EMGLdhXCuERacDSNBCtiQDMAHf5jXpqVSNISjEtwoZDlBcqKQSqFtustpNTQbYfO3EG+qoUBQ5rm1nPeGL6AEA08bYjKQlrPGDPET3V931vPOalvbOxyFBdFgbZtj73E86SUcKCBVHAxkYjgchQTXB+Z1tooE8c+Tx0UuoHuNkcYnof2W+7HwOG6dCZI1RklrVUzBCmjOqkmbwe6Ndwq+/0eWZZbwtfA1tQ01PF7K1vngpuf1FoxSZJY732XnaUZojD683Mp8tysZZ7Ncr0CYfG6xPptjcVqgfnL3OSWCMLAwg/9A4IDfARRgM3Wx3rzDn8bGM4zVob/AQcFAyqi7+x0AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;Enable API&quot;
        src=&quot;/static/3413de31980269322eda1e2d2188c3cc/f058b/enable-api.png&quot;
        srcset=&quot;/static/3413de31980269322eda1e2d2188c3cc/c26ae/enable-api.png 158w,
/static/3413de31980269322eda1e2d2188c3cc/6bdcf/enable-api.png 315w,
/static/3413de31980269322eda1e2d2188c3cc/f058b/enable-api.png 630w,
/static/3413de31980269322eda1e2d2188c3cc/40601/enable-api.png 945w,
/static/3413de31980269322eda1e2d2188c3cc/78612/enable-api.png 1260w,
/static/3413de31980269322eda1e2d2188c3cc/60708/enable-api.png 2872w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Select ‘Compute Engine API’ (click the link under Popular APIs or search for it in the unlikely event it’s not visible).
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c3227d60b192cceb626ea7b6188cbaae/0940f/select-compute-engine.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB0klEQVQ4y52T6W7bMBCE9f4v1V8FAgRoUbRJHKeJ4kOSJeugLt7UdMlIcQInddEFBgQI8eNoZxklSYKmqZHnOcrjEWVZYhxHSCnBOYdUElVV40j7Wms452Ct/VRRmmVgjOFIsCxNsdvtAsgf9lBjTLgsjmMY2vM1TdOnijQ5EIKj7zpIWidn6aAioIJSIgCXsm4KDv+mKCsaFGWL522GLK/RDgrdrLaX0MYiLTWeUommtzjV9KGiq5XA9VriaqVxu9X4GfNZAj8eR3SjAesU8oqHC4RU4ILca0uXuTNFVdOTQ4Z4kyI9lOhH9apukHTQoW4lsoKhqAakOUNyaMAGg447utC+U6Soh1IKSnaA4CP1TIfm+9X30Sc39AysLkN4lyryaQZR8/2qlJrlU1YhpDgdsN7TJBQZhccovJEM9JSqO0s9OgFetECXsQEc7h7uEH/5isOhwvdfz7hZ73FzvweX5hz46vCN3gKtN9F9g3m8xv444XajsC0Meg4YewIt4AvAlx5Oc3/yRuN+K7DaCDzs6AW1pxldoJcdEhD+Y+pX0Rj8TiTWBNvmCgnNZ954t/ZfHc7AuTzQu3tKVYBI5TAK/7an/wFO4em1o/1wXJZf/gOa2D8GHfzOswAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;Select compute engine&quot;
        src=&quot;/static/c3227d60b192cceb626ea7b6188cbaae/f058b/select-compute-engine.png&quot;
        srcset=&quot;/static/c3227d60b192cceb626ea7b6188cbaae/c26ae/select-compute-engine.png 158w,
/static/c3227d60b192cceb626ea7b6188cbaae/6bdcf/select-compute-engine.png 315w,
/static/c3227d60b192cceb626ea7b6188cbaae/f058b/select-compute-engine.png 630w,
/static/c3227d60b192cceb626ea7b6188cbaae/40601/select-compute-engine.png 945w,
/static/c3227d60b192cceb626ea7b6188cbaae/0940f/select-compute-engine.png 1154w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then click the blue Enable button near the top.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1da901411d5f3a0db988d1494ba7ce93/8fc63/enable-compute-engine.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABYElEQVQoz22RXWsUMRSG5/9f+g/0QmmR+lG9WalalNUKFb0QXLXu0na7dD6bzXcm2cfMjAWFBp6ckJz35D1J8ehNxf7bioP3HQdzyd5xx8PXFfdnJQ9e1Tz7qHiS9w9PJC8+/c/TDzn/nRx1j3Pe3lxRXNdbrq5v6IQhxp7oJcEKiAZ2lmmkzO4O0j9nUyzqTjEgdUAZT1231E2L0gbnA9Z5vPdjNMbhUz/Kp4l8lhcpEUPC+kQRvMM5Sx8CIbNeX7FcLjk/v0BKhcmFdUYpRUiBZiGQC8nSC+6tvuCiZ7bp+SXTeEER/hYaXAxRa43OYqVtdjS5G3EuNxXZXmjspaMNmsPVN4Q3zBs4U9MzFLeC26JlWbK+XNO2bXYoEWKbEXQ3IudETr9+5uj4iG2W75cdepeYvXzO77Ofdzu0ZmpxcGrMFAeU0oQ+sdlsWOUn0TFxUpXY/JHfFz+ommYs+Ae/zhDaSJ/gWwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;Enable compute engine&quot;
        src=&quot;/static/1da901411d5f3a0db988d1494ba7ce93/f058b/enable-compute-engine.png&quot;
        srcset=&quot;/static/1da901411d5f3a0db988d1494ba7ce93/c26ae/enable-compute-engine.png 158w,
/static/1da901411d5f3a0db988d1494ba7ce93/6bdcf/enable-compute-engine.png 315w,
/static/1da901411d5f3a0db988d1494ba7ce93/f058b/enable-compute-engine.png 630w,
/static/1da901411d5f3a0db988d1494ba7ce93/40601/enable-compute-engine.png 945w,
/static/1da901411d5f3a0db988d1494ba7ce93/78612/enable-compute-engine.png 1260w,
/static/1da901411d5f3a0db988d1494ba7ce93/8fc63/enable-compute-engine.png 2756w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;At this point you will likely be asked to setup billing (unless you have already setup billing with GCP before).
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/09b9c707bd14e49e9a5156f0237aabe6/c6162/enable-billing.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.405063291139236%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABg0lEQVQoz21RS0oDQRScg3kBbyAudeXCoGgMiMEZh5nu+fdnfohgsvECcasuvEIIWScBXSXZRjRldyfBD2ko6vGoru5Xz3JJBtuN0HYo2jbFlU3g+gmCWMILMpCQgcYCNPoLssb/viUFA2cZpOCoyhx1VaBao67KrajKAqXSakiZI89XrGElSYooipAkCRjjiOPY1JrDMEQQhGsOjC5NU3AhUBWlQcZ/zJiqLX1RiwkhRtzv9zEYDDAcDjEejzGZTAxrjEYjvL2/47HXw02k7qjpavXbVOSIlFlZFLC0med5cF3X/Go2m2E6nWI+n2OxWGDbeX16xl67iR37FIKlOKESu5cCXI8spTQZCDVGXddYLpdbTT5V++NrVT+/vCD0fYQqApFL8LxAwFZZWjofPa6vBJRSdDoddLtdw5v69u4e990HtW2Ok4s27tTDzZhhnwQo6wqtVgsHhwcrQ53b70Vo880DG/Z9qvLN4NjXaDSOITmHnTAcEQ+5ytBxHJydN43hN4dCyQFlx34rAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;Enable billing&quot;
        src=&quot;/static/09b9c707bd14e49e9a5156f0237aabe6/f058b/enable-billing.png&quot;
        srcset=&quot;/static/09b9c707bd14e49e9a5156f0237aabe6/c26ae/enable-billing.png 158w,
/static/09b9c707bd14e49e9a5156f0237aabe6/6bdcf/enable-billing.png 315w,
/static/09b9c707bd14e49e9a5156f0237aabe6/f058b/enable-billing.png 630w,
/static/09b9c707bd14e49e9a5156f0237aabe6/40601/enable-billing.png 945w,
/static/09b9c707bd14e49e9a5156f0237aabe6/78612/enable-billing.png 1260w,
/static/09b9c707bd14e49e9a5156f0237aabe6/c6162/enable-billing.png 2166w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You will be offered a free trial but you still have to enter a credit card to get it. You don’t really need the free trial for what we will be doing either but no harm setting it up.&lt;/p&gt;
&lt;h4&gt;Create a cluster in GCP&lt;/h4&gt;
&lt;p&gt;If you haven’t authorized gcloud already, do so now like so:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;gcloud auth login&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That should open a browser window where you can login to your google account.&lt;/p&gt;
&lt;p&gt;Now configure the project you created (PROJECT_ID should be replaced with the ID of your project):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;gcloud config &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; project PROJECT_ID&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Configure your desired zone like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;gcloud config &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; compute/zone europe-west1-d&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can list the available zones with this command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;gcloud compute zones list&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Verify the configuration like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;gcloud config list core/project
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;core&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
project &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kubernetes-practice-ruairi

Your active configuration is: &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;default&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now create a cluster.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;gcloud container clusters create my-cool-cluster&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(probably pick a better cluster name)&lt;/p&gt;
&lt;p&gt;Verify it’s there.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;gcloud container clusters list&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should see something like this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;NAME             ZONE           MASTER_VERSION  MASTER_IP       MACHINE_TYPE   NODE_VERSION  NUM_NODES  STATUS
my-cool-cluster  europe-west1-d &lt;span class=&quot;token number&quot;&gt;1.6&lt;/span&gt;.4           &lt;span class=&quot;token number&quot;&gt;130.211&lt;/span&gt;.181.72  n1-standard-1  &lt;span class=&quot;token number&quot;&gt;1.6&lt;/span&gt;.4         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;          RUNNING&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;minikube&lt;/h3&gt;
&lt;p&gt;Minikube basically lets you run kubernetes locally. Follow the instructions here to get it setup:
&lt;a href=&quot;https://github.com/kubernetes/minikube&quot;&gt;https://github.com/kubernetes/minikube&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;With minkube creating a clust is a little easier:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You also have the added advantage of not needing to setup a GCP account and all that but it’s only useful for developing stuff locally of course.&lt;/p&gt;
&lt;p&gt;To make sure kubectl is pointing at minikube try this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl cluster-info
Kubernetes master is running at https://192.168.99.100:8443
KubeDNS is running at https://192.168.99.100:8443/api/v1/proxy/namespaces/kube-system/services/kube-dns
kubernetes-dashboard is running at https://192.168.99.100:8443/api/v1/proxy/namespaces/kube-system/services/kubernetes-dashboard&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Switching contexts in kubectl&lt;/h3&gt;
&lt;p&gt;If you end up using both GCP and mimikube, it’s useful to easily switch contexts in kubectl&lt;/p&gt;
&lt;p&gt;These commands help:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl config get-contexts&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl config use-context &lt;span class=&quot;token variable&quot;&gt;${context_name}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also set the context in each call:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;some options here&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; --context&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;minikube&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Deploy something&lt;/h3&gt;
&lt;p&gt;For this we can create a simple hello world application and put it in a container. Here’s one I made earlier: &lt;a href=&quot;https://hub.docker.com/r/ruairitobrien/hello-kubernetes-world/&quot;&gt;https://hub.docker.com/r/ruairitobrien/hello-kubernetes-world/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note, these instructions should work the same whether you are using GCP or minikube.&lt;/p&gt;
&lt;p&gt;Code for that app is here but nothing interesting there really &lt;a href=&quot;https://github.com/ruarfff/hello-kubernetes-world&quot;&gt;https://github.com/ruarfff/hello-kubernetes-world&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl run hello-kubernetes --image ruairitobrien/hello-kubernetes-world:latest&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should usually specify a version number so you have a history of deployed versions that you can switch to if needed but ‘:latest’ will do for this tutorial.&lt;/p&gt;
&lt;p&gt;You should see&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;deployment &lt;span class=&quot;token string&quot;&gt;&quot;hello-kubernetes&quot;&lt;/span&gt; created&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Verify it worked&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get deployments
NAME               DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
hello-kubernetes   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;            &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           1m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also check the pod that was created:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ kubectl get pods
NAME                                READY     STATUS    RESTARTS   AGE
hello-kubernetes-3390701390-jds31   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          1m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pods are an important part of kubernetes but rather than me going on about them it’s best to read up here: &lt;a href=&quot;https://kubernetes.io/docs/concepts/workloads/pods/pod/&quot;&gt;https://kubernetes.io/docs/concepts/workloads/pods/pod/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It’s also useful to check out the describe functions. Most things have them.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl describe deployment &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;deploymentName&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Example&lt;/span&gt;
kubectl describe deployment hello-kubernetes

kubectl describe pods &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;podName&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Example&lt;/span&gt;
kubectl describe pods hello-kubernetes-3390701390-jds31&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;You have a deployment&lt;/h3&gt;
&lt;p&gt;Now that you have a deployment, what are you going to do with it?&lt;/p&gt;
&lt;p&gt;I am just going to show a few simple things here to give you an idea of what’s available. Most of this and much more can be found &lt;a href=&quot;in%20these%20docs&quot;&gt;https://kubernetes.io/docs/user-guide/kubectl-cheatsheet/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You will probably want to look at logs a bit. You can look at the logs for a pod with this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl logs &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;podName&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Example&lt;/span&gt;
kubectl logs hello-kubernetes-3390701390-jds31&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will give you the logs for this instance of that pod. You can go more in detail, for example in the case where you have a pod with multiple containers. More on that &lt;a href=&quot;https://kubernetes.io/docs/user-guide/kubectl/v1.6/#logs&quot;&gt;in the kubernetes docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Now let the world see your amazing app!&lt;/p&gt;
&lt;p&gt;First, run get services.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl get services
NAME         CLUSTER-IP    EXTERNAL-IP   PORT&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;S&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;   AGE
kubernetes   &lt;span class=&quot;token number&quot;&gt;10.55&lt;/span&gt;.240.1   &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;443&lt;/span&gt;/TCP   1h&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can see there is no external IP and no mention of the pod we created.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl expose deployment hello-kubernetes --type LoadBalancer --port &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; --target-port&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8000&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here we are using the load balancer option.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;LoadBalancer - Creates an external load balancer in the current cloud (if supported) and assigns a fixed, external IP to the Service. Superset of NodePort.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There are other types you can use.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Type for this service: ClusterIP, NodePort, or LoadBalancer. Default is ‘ClusterIP’.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We’re using LoadBalancer because it’s a nice option for us to play around with autoscaling soon.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;--port&lt;/code&gt; is the port we are exposing our service on.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;--target-port&lt;/code&gt; is the port our application in the Docker image happens to be exposed on.&lt;/p&gt;
&lt;p&gt;Wait a minute or so for things to work out and then run this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl describe svc hello-kubernetes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should see something like this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;Name:			hello-kubernetes
Namespace:		default
Labels:			&lt;span class=&quot;token assign-left variable&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;hello-kubernetes
Annotations:		&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
Selector:		&lt;span class=&quot;token assign-left variable&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;hello-kubernetes
Type:			LoadBalancer
IP:			&lt;span class=&quot;token number&quot;&gt;10.55&lt;/span&gt;.243.178
LoadBalancer Ingress:	&lt;span class=&quot;token number&quot;&gt;104.154&lt;/span&gt;.182.255
Port:			&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;unset&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;	&lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;/TCP
NodePort:		&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;unset&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;	&lt;span class=&quot;token number&quot;&gt;31390&lt;/span&gt;/TCP
Endpoints:		&lt;span class=&quot;token number&quot;&gt;10.52&lt;/span&gt;.0.5:8000
Session Affinity:	None&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The ‘Endpoints’ value is the internal ip and port of your application running in the cluster.&lt;/p&gt;
&lt;p&gt;This value: LoadBalancer Ingress: 104.154.182.255 is what we can use to talk to our application externally. Stick the ip address that you see there in your browser and you should see ‘hello kubernetes world’ or whatever you have your application sending back if you wrote your own there.&lt;/p&gt;
&lt;h3&gt;Autoscaling&lt;/h3&gt;
&lt;p&gt;This for me was the first really cool thing I came across when playing around with kubernetes. Now our application is deployed, we can attach an autoscaler to it. Here is a command we can use to do that.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl autoscale deployment hello-kubernetes --cpu-percent&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; --min&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; --max&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we have attached an autoscaler.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;--cpu-percent&lt;/code&gt; will try to average the utilization across all the pods to the percent we set i.e. will scale up until it hits the max amount of pods if cpu utilization goes above 10% on average across all existing pods. We set 1% for demonstration purposes so we have a chance of forcing the cluster to scale up when hitting it from our machine.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;--min&lt;/code&gt; is the minimum amount of pods we want in the cluster.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;--max&lt;/code&gt; is the maximum amount of pods we will allow the autoscaler to provision for us.&lt;/p&gt;
&lt;p&gt;The autoscaler will scale up when cpu is above 10% on average. It will also scale down to the minimum when cpu utilisation is below average.&lt;/p&gt;
&lt;p&gt;Try running this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl describe svc hello-kubernetes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should see something like this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;Name:			hello-kubernetes
Namespace:		default
Labels:			&lt;span class=&quot;token assign-left variable&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;hello-kubernetes
Annotations:		&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;none&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
Selector:		&lt;span class=&quot;token assign-left variable&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;hello-kubernetes
Type:			LoadBalancer
IP:			&lt;span class=&quot;token number&quot;&gt;10.55&lt;/span&gt;.245.180
LoadBalancer Ingress:	&lt;span class=&quot;token number&quot;&gt;104.198&lt;/span&gt;.145.117
Port:			&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;unset&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;	&lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;/TCP
NodePort:		&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;unset&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;	&lt;span class=&quot;token number&quot;&gt;32063&lt;/span&gt;/TCP
Endpoints:		&lt;span class=&quot;token number&quot;&gt;10.52&lt;/span&gt;.0.5:8000,10.52.2.6:8000,10.52.2.7:8000,10.52.2.8:8000
Session Affinity:	None&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice we now have 4 endpoints. You could see this with &lt;code class=&quot;language-text&quot;&gt;kubectl get pods&lt;/code&gt; too. The autoscaler has already scaled up to meet the minimum requirements we set.&lt;/p&gt;
&lt;p&gt;To see the state of the autoscaler run this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl get hpa&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should see something like this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;NAME               REFERENCE                     TARGETS   MINPODS   MAXPODS   REPLICAS   AGE
hello-kubernetes   Deployment/hello-kubernetes   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;% / &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;%   &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;          1m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And just to confirm the number of pods is 4.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl get pods
NAME                                READY     STATUS    RESTARTS   AGE
hello-kubernetes-3390701390-jds31   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          3m
hello-kubernetes-3390701390-q1v74   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          3m
hello-kubernetes-3390701390-txg9z   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          3m
hello-kubernetes-3390701390-w6kjg   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          47m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now the fun part. Let’s see autoscaling in action!&lt;/p&gt;
&lt;p&gt;You probably have a better way of doing this (please comment with a suggestion) but what I did here was just run this.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -XGET &lt;span class=&quot;token variable&quot;&gt;${IP}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# So for my cluster in the above examples that was&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -XGET &lt;span class=&quot;token number&quot;&gt;104.198&lt;/span&gt;.145.117 &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;done&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or something a little safer perhaps.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token for-or-select variable&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -XGET &lt;span class=&quot;token variable&quot;&gt;${IP}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;done&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you go down the safe route with a limited loop, the timing where you check the following things is important.&lt;/p&gt;
&lt;p&gt;After a while you should start to see autoscaling kicking in:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl get hpa
NAME               REFERENCE                     TARGETS   MINPODS   MAXPODS   REPLICAS   AGE
hello-kubernetes   Deployment/hello-kubernetes   &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;% / &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;%   &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;          4m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can see the ‘TARGETS’ ratio (that’s the CPU utilisation) is grown above that which we specified. In my example it’s 3% but the autoscaler wants it to be below 1% on average so it should start scaling up to bring that back in balance.&lt;/p&gt;
&lt;p&gt;Check the new pods getting created.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl get pods
NAME                                READY     STATUS    RESTARTS   AGE
hello-kubernetes-3390701390-1ght4   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          39s
hello-kubernetes-3390701390-2gp0c   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          39s
hello-kubernetes-3390701390-ddgv0   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          39s
hello-kubernetes-3390701390-jds31   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          4m
hello-kubernetes-3390701390-q1v74   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          4m
hello-kubernetes-3390701390-t6s63   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          39s
hello-kubernetes-3390701390-txg9z   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          4m
hello-kubernetes-3390701390-w6kjg   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          48m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Don’t forget to while loop! Unless you used the for loop of course.&lt;/p&gt;
&lt;p&gt;After a minute or 2 check again.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl get hpa
NAME               REFERENCE                     TARGETS   MINPODS   MAXPODS   REPLICAS   AGE
hello-kubernetes   Deployment/hello-kubernetes   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;% / &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;%   &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;         &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;        &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;          8m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See the pods are terminating.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl get pods
NAME                                READY     STATUS        RESTARTS   AGE
hello-kubernetes-3390701390-1ght4   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Terminating   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          5m
hello-kubernetes-3390701390-2gp0c   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Terminating   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          5m
hello-kubernetes-3390701390-ddgv0   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Terminating   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          5m
hello-kubernetes-3390701390-jds31   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running       &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          9m
hello-kubernetes-3390701390-q1v74   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running       &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          9m
hello-kubernetes-3390701390-t6s63   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Terminating   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          5m
hello-kubernetes-3390701390-txg9z   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running       &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          9m
hello-kubernetes-3390701390-w6kjg   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;/1       Running       &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;          53m&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;They may already be gone depending how long you waited to check.&lt;/p&gt;
&lt;p&gt;Maybe I am too easily impressed but I just think that is cool! Anyway, that was a brief run through of some of the basic Kubernetes features and barely scratches the surface of what is there.&lt;/p&gt;</content:encoded></item></channel></rss>