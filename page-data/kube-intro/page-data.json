{"componentChunkName":"component---src-templates-blog-post-js","path":"/kube-intro/","result":{"data":{"site":{"siteMetadata":{"title":"Ruairí's Blog"}},"markdownRemark":{"id":"d67f5521-63b8-5c4f-bd51-a2ed25e76407","excerpt":"This post is a relatively short introduction to Kubernetes looking at some of the basic features. We will look at using kubernetes in two ways. With the Google…","html":"<p>This post is a relatively short introduction to <a href=\"https://kubernetes.io/\">Kubernetes</a> looking at some of the basic features.</p>\n<p>We will look at using kubernetes in two ways. With the Google Cloud Platform (GCP) with <a href=\"https://cloud.google.com/kubernetes-engine/\">GKE</a> and with minikube.</p>\n<p>You can use one or the other or both, or indeed some other cloud provider but GCP and minikube are what we will use here. I recommend playing around with both GCP and minikube since it won’t cost you anything. For GCP you need a Google account but you will also need a way to setup billing which pretty much means you will need a credit card. You won’t have to spend money but you will need to have billing enabled in the GCP account.</p>\n<h3>Install the GCP SDK</h3>\n<p>Instructions here are good and cover all platforms: <a href=\"https://cloud.google.com/sdk/\">https://cloud.google.com/sdk/</a></p>\n<p>You can also just use the cloud console in the GCP UI but I will use <code class=\"language-text\">gcloud</code> in the examples here.</p>\n<h3>Install kubectl</h3>\n<p>Assumes you have followed the instructions above and installed <code class=\"language-text\">gcloud</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\n gcloud components <span class=\"token function\">install</span> kubectl\n</code></pre></div>\n<h3>Google Cloud Platform</h3>\n<p>You can just skip forward and setup minikube if you prefer but I recommend using this to have something a little more ‘real’.</p>\n<p>First you need a google account. Not much point me explaining how to do that I guess.</p>\n<p>Then you will need to setup a GCP dashboard for yourself (if you haven’t one already). Just open this link <a href=\"https://console.cloud.google.com/start\">https://console.cloud.google.com/start</a> and follow the instructions.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8105e4bab9a47f7ce2204908eb6d5caf/de9fe/dashboard.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.50632911392405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABDUlEQVQoz52QwUrDQBCG87YioiBSBPVQX0GwgqCWHuoTiAcLrfGmojV9hUAS6UbZbdOd3ZhfZuNi1XjQhY9/YIaPmQ02jzNsn6ZonaVodTNsnSTYOIqx3omxchBj9TDBWifBbjfFXi9Duy/Q7uc/2D/PsdMTCC7vJC5uFa4jhcG9wOhJYhjNHINHhauHmnCicDPhOdlIGEkMxxKBIYKaE/DGFAAIgPk3gdYEIgKnJoOFpkbIWBDZX/uegGXfMcY4fM05nQoUxQL8qqpy+Hp59ovQNMiJavnri4CU0tVa64+r6rTWfgr9Nk34If6KcJzjWSgU8xmMsU7CPc4/CzmzXKNY8MYaZVk6ic/lk98BEI5YKnAUMNUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"Dashboard\"\n        src=\"/static/8105e4bab9a47f7ce2204908eb6d5caf/f058b/dashboard.png\"\n        srcset=\"/static/8105e4bab9a47f7ce2204908eb6d5caf/c26ae/dashboard.png 158w,\n/static/8105e4bab9a47f7ce2204908eb6d5caf/6bdcf/dashboard.png 315w,\n/static/8105e4bab9a47f7ce2204908eb6d5caf/f058b/dashboard.png 630w,\n/static/8105e4bab9a47f7ce2204908eb6d5caf/40601/dashboard.png 945w,\n/static/8105e4bab9a47f7ce2204908eb6d5caf/78612/dashboard.png 1260w,\n/static/8105e4bab9a47f7ce2204908eb6d5caf/de9fe/dashboard.png 2146w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>When on that page click the ‘Create’ button to create a project.</p>\n<p>When selecting a name for your project try to use something globally unique to you. For example, for me I append my username.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6fad110f2cf65eaa5f0b0087ba7d6293/f4281/new-project-name.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABnUlEQVQ4y6WST2vUQBiH85W0R8GL+KfSo3oQSz148ODFnoogrfaiYttD8aD9GHryIwiCIspqd7PdZifZbGezSSYxyWaSR5KUCmV3rfoOD+8w8/5efi8zxuV1yYW1IdeeSBafSq6sSy49llzdkCxtjup88dER5x4OOb86nYVVl6VNyc0XHsbtl0fceDbk3q7kwesRy1suKzsud7Zc7u40+1vPByxuOFyfic3KtsP9VwMM4YywBxLLrhgxDhOCaEIQZfgqw48ywnhC9HM+YZzVGqNrdjA7bbqdNj++t9D5hP8J4/RBWZZoXVAUBfqM1LW6wbCsPqZpIvqCMFRN0fFlcSIof1NOpzzG2O+6fPy8z6cvbb62erTafTo9lyAuiRJQCQRxQRBp/Ap1ikgzVppcl83IaTzGl4KBY9MXDoeHFgcHPYSwEULU2fM85DglzUqqNc1p5a5u+P6Dx95bm54dEisfpRRZmpIkCWlFmpLnE3JdnIhmRT3ym3dD1vYE37oBrmMRBOqPollMfeWziOY5NZpC/ko09x/+i4t5DX8BM4LGeBo1OgQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"New Project\"\n        src=\"/static/6fad110f2cf65eaa5f0b0087ba7d6293/f058b/new-project-name.png\"\n        srcset=\"/static/6fad110f2cf65eaa5f0b0087ba7d6293/c26ae/new-project-name.png 158w,\n/static/6fad110f2cf65eaa5f0b0087ba7d6293/6bdcf/new-project-name.png 315w,\n/static/6fad110f2cf65eaa5f0b0087ba7d6293/f058b/new-project-name.png 630w,\n/static/6fad110f2cf65eaa5f0b0087ba7d6293/40601/new-project-name.png 945w,\n/static/6fad110f2cf65eaa5f0b0087ba7d6293/f4281/new-project-name.png 1016w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Notice it says ‘Your project ID will be {the ID}’ and in my case the ID matches the name I specified.</p>\n<p>Beware if you use a name that has already been used somewhere else in the world, like in this example:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/11922aac4d591b1290d23a345fb4b9b2/f79fa/new-project-random-id.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.39240506329114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABl0lEQVQoz5XSwWsTQRTH8fmHRG9evHlQPIjov+DFCrXUVhQUqmBFPLcgNh5E/F/Ea6qr6W5DmsnubHaTNJtudicz85VNrVZNavzBhzc83uHBG3FxPebyk5hLD2NubCbcfJFw7dmxq08Tbr1Muf485cpGwvl7inPL811YiRDLrxWP3vVZ3Ul5/L7Hxoc+a7WYB28V93cU6zXFWk2x+kaxtB1xZ2u+u9shAqsJZYt+quiqDrEKqXrgAPvfRFlqvK/fkLJDEAT4fkDVq2IduFPsAoRzlj/jnMNai7N2WhdxMiu01tR3PRoNH99vko1y9MSewc1ljEOMS4u316b+ZR+v0WLXC2i2FIWGcQl5pYCjwv1gGY0tWW5+U/UOjwxiMjH00hgVSqQMOWiHtA7ktLbbIbITEUZdpIxIewNUWlAtMTHHW1X1NFGUhk+fUz7WY/qDjNEoYzg8JMt+1TzPKYoxWpdU89WB5kXIRHP7VZOVLYm336MZ7DEcZpwdNz3cLMJYR3egSQYaY+zPK//LydxfG876MrPei+Y7sQZ6JzeSYfEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"New Project Random ID\"\n        src=\"/static/11922aac4d591b1290d23a345fb4b9b2/f058b/new-project-random-id.png\"\n        srcset=\"/static/11922aac4d591b1290d23a345fb4b9b2/c26ae/new-project-random-id.png 158w,\n/static/11922aac4d591b1290d23a345fb4b9b2/6bdcf/new-project-random-id.png 315w,\n/static/11922aac4d591b1290d23a345fb4b9b2/f058b/new-project-random-id.png 630w,\n/static/11922aac4d591b1290d23a345fb4b9b2/f79fa/new-project-random-id.png 940w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>You will get a random ID, which is a pain because whenever you need to use the ID you have to go digging for it (for some reason I keep forgetting where to find it) but the name is always visible in the UI and easier to remember.</p>\n<p>Next you will want to go the the API manager dashboard.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f1515d7512fb90ec00256043f0c29da4/0b569/api-manager-menu.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABoElEQVQoz1WRDW7UMBCFc/8LIBBFCND2BtBWiC0nobvdsInzY6+dPydxPjRuvSojjTJ+fvPmeZJ9/WX5tnfc/nZI/eGH5uZe8/57zce7lt2jZvdouH1NqXd7zW5vuLk3fHowfP554d2D5stdTjaMM103ENYVtkDXj8x+gm0EVmABPIQJ1gE2H/El9Li1pVtaLr7GeIMdHZmqGk75GW0crbG0WlMqheAiHjbwfqbVBmMsk5/ZBJsXilJRqgrretYQcM6RFUVBXdcsszh1NE2DEkGlGMeRbdtY1/X6XZblWsu9vdgrz1pHNk0TkhJCttbGSX3fE0JgnueISyRBCekxxkTeMAyRGx0mQEJAqcVx13X/OXubaZC8RtwlXhQUAXGViEKQC/lKk+De++hEcHElPQkTUTmnFUSHrW4jQQTlbJ29PnUNL4IilHYlIbXWmqqqoqBwpSeTQi5TiGiannYrIUJp6AsA0zgxvK4s/azsz+GJU34iP+fkec7x+cjT8cDheOBcnKmbOqa+aBrdxLo1mrJSHJ6PnP7mFGVBoUrKWvEPg4v7gVJjagoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"API manager menu\"\n        src=\"/static/f1515d7512fb90ec00256043f0c29da4/f058b/api-manager-menu.png\"\n        srcset=\"/static/f1515d7512fb90ec00256043f0c29da4/c26ae/api-manager-menu.png 158w,\n/static/f1515d7512fb90ec00256043f0c29da4/6bdcf/api-manager-menu.png 315w,\n/static/f1515d7512fb90ec00256043f0c29da4/f058b/api-manager-menu.png 630w,\n/static/f1515d7512fb90ec00256043f0c29da4/40601/api-manager-menu.png 945w,\n/static/f1515d7512fb90ec00256043f0c29da4/78612/api-manager-menu.png 1260w,\n/static/f1515d7512fb90ec00256043f0c29da4/0b569/api-manager-menu.png 2878w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Click ‘Enable API’ near the top of the page.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3413de31980269322eda1e2d2188c3cc/60708/enable-api.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYklEQVQoz52Sb2vUQBCH8/2/jBYUrb5QxNJCPZXCYeHuTEuTXoh3+XfZ3Wx2k0dm27Sh4ot24OG3M7s7+5uQ6OjkD29Oc96fF3xYNLz+mnO8aHh12nJ0duDTheLzhQo6R2rHi5Z331o+fm95+9Pw5UdGlO9btnlDUWu6zqLqHJwCBl4SUdUo9kWD0hZtLGVV0xwUtnf4YQxY63B+YBgIemgNh1ZRFFVQrTuUNhjTEfV9zx02qFKKYbhzN45jUK3FfRfyqSZ5Xdd47x/OCpG1lglpKMUpl0tyYapJLkznJJxzGGMezkVTo0nnrz1dz+N/tX8azseVtWD7Aed8cDNHnMm+uBYNDacxplF2ux1lWYYLjw09fe94/N592NfG4LwPZnb7fdDoqe2yKMmy7Nm/S11VMEK0jjcIq99r4quY1WbF8nLJOl6TbtNAsk3uSe9JSLOUm9uE+Oaa5DZlefmLzXXMX6pzA2HyUXgjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"Enable API\"\n        src=\"/static/3413de31980269322eda1e2d2188c3cc/f058b/enable-api.png\"\n        srcset=\"/static/3413de31980269322eda1e2d2188c3cc/c26ae/enable-api.png 158w,\n/static/3413de31980269322eda1e2d2188c3cc/6bdcf/enable-api.png 315w,\n/static/3413de31980269322eda1e2d2188c3cc/f058b/enable-api.png 630w,\n/static/3413de31980269322eda1e2d2188c3cc/40601/enable-api.png 945w,\n/static/3413de31980269322eda1e2d2188c3cc/78612/enable-api.png 1260w,\n/static/3413de31980269322eda1e2d2188c3cc/60708/enable-api.png 2872w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Select ‘Compute Engine API’ (click the link under Popular APIs or search for it in the unlikely event it’s not visible).\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c3227d60b192cceb626ea7b6188cbaae/0940f/select-compute-engine.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.72151898734178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAByklEQVQ4y52T2W7bMBBF9f8/1acCAQK0KNpsThMlXiTLlixZC8khKZ5CjB2nyFZ0gAM9SDy8miGT1WrFbrejKAq22y1lWaKUwhiD1hojhqqq4jtrLeM44r1/lyTPc5qmiQvyLGexWKKUjosnqXMubpamKc5apgohvEtiZUqi6No9RitC8DgrWCuI6Cg8lh9DTPgRSb6pKco9D/OcvNix7yXS9kLTGazzZKXlPjPUnedU4U2Ss2vN+cxwdm25nAs/U3VA8+NuoB0cTSsUlYobaC0oLYj1WDe+Iqnqjk3ZkD5m5OuSbpBn2t4gdmS3N+Sbhm3VkxUNq3VN0ztaNdIO/i8SEYMxGjX0aDXExkecjX2cJtd3Nc2ujMP7rJJpmhHn4lNEDkxTFsLoSbOe2bJhu8np2gajB4ahI4Tx1dSTk+CJo/R4bGDk6vaK9MtX1uuK778euJgtubhZoox7LXxO+IKXQj+FaL/h7s5ZbgOXj8J84+gUOH8SHcWfCJ96GA79KWrLzVxz/ai5XRiq/emMHqWfJ/R++hrCyKZ2/F4ZZgvDvBBWpaWop7T+XxMehIeahFO6+0yixMjIoKe7Hf5HGOLV2w/+zeNy/OU/mtk/BX4Zs48AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"Select compute engine\"\n        src=\"/static/c3227d60b192cceb626ea7b6188cbaae/f058b/select-compute-engine.png\"\n        srcset=\"/static/c3227d60b192cceb626ea7b6188cbaae/c26ae/select-compute-engine.png 158w,\n/static/c3227d60b192cceb626ea7b6188cbaae/6bdcf/select-compute-engine.png 315w,\n/static/c3227d60b192cceb626ea7b6188cbaae/f058b/select-compute-engine.png 630w,\n/static/c3227d60b192cceb626ea7b6188cbaae/40601/select-compute-engine.png 945w,\n/static/c3227d60b192cceb626ea7b6188cbaae/0940f/select-compute-engine.png 1154w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Then click the blue Enable button near the top.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1da901411d5f3a0db988d1494ba7ce93/8fc63/enable-compute-engine.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABYUlEQVQoz22PXU8UMRiF5/9f+he4MUsMqOAFGgxGWT6i0QsTNgq7AYYNs/NBt287bafdx8zMknhBk6enaXNOz5u9/rxi92TF3reGvVPN5EtDf7fzsWDnU8n7c2F/qjm80BxeysiF8OFSeHum2f2q2Z8Kb86EyVTIHss1D4+KRlli7IheE1oF0cKmZVwJ2LxA+u9t1KxshB5tAmI9ZVlTVjViLM4HWufx3g9qrcOnbrCPG3i/gZSIIdH6RBa8w7mWLgRCCOR5znw+5/b2Dq0FayzGWESELgWqmULPNDf+iVeLn7joOXro+KvT8EEWtkF9i157sxFBTIttx3YDzpOIrO8M7b2jDoaDxW+Ut5xWcC3bkZ8Nz6FFUZDf59R1jdYapdYopWieFCFEvv/6wfHJMWtgUjSYTeLo4B03139ebmjtOKIxZns2AyKG0CWWyyWL+QKJifNVQRs7rq5mrKpqCPwHI6YRCQJLTjkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"Enable compute engine\"\n        src=\"/static/1da901411d5f3a0db988d1494ba7ce93/f058b/enable-compute-engine.png\"\n        srcset=\"/static/1da901411d5f3a0db988d1494ba7ce93/c26ae/enable-compute-engine.png 158w,\n/static/1da901411d5f3a0db988d1494ba7ce93/6bdcf/enable-compute-engine.png 315w,\n/static/1da901411d5f3a0db988d1494ba7ce93/f058b/enable-compute-engine.png 630w,\n/static/1da901411d5f3a0db988d1494ba7ce93/40601/enable-compute-engine.png 945w,\n/static/1da901411d5f3a0db988d1494ba7ce93/78612/enable-compute-engine.png 1260w,\n/static/1da901411d5f3a0db988d1494ba7ce93/8fc63/enable-compute-engine.png 2756w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>At this point you will likely be asked to setup billing (unless you have already setup billing with GCP before).\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/09b9c707bd14e49e9a5156f0237aabe6/c6162/enable-billing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.405063291139236%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABiUlEQVQoz22RS24TQRCGfTAuwAmQ2AErFmAh4kRCSTSW8fS8p1/zsCLFkwUniFiSLLiCJXtvL5KN7a1B+IumJyZCpKVPf1Wr9FdXdW8caryvMefDgDMv4NQTjPyUMDH4YY6IFEGiCWLd6YFYI+Kn+EDPGo2SOUYrqtJSVwXVI3VVPktVFpSldRhjsbbTlp5UijiOSdMUKRVJkri41SiKCMPoUUNXl2UZSmuqonTk6slMqtZQSlcshHDFs9mM+XzOYrFguVyyWq3+0uZ3d/d8v75mGIcInVOXBZm2RMpSFgW9PM8Zj8eMRiP3qs1mw3q9ZrvdstvteO78/HHDq7MBL7xPaJnRF4aXXzSqHdkY43agtWYymbDf7/8zaG9+7+HXny6/ub0l8n23Am0NyhaEsvNxI7fj+r5PEARMp1OapnG08VXTMLm45PLqGyKS9AenXNQ1R0nOaxFS1hUnx8e8efe2M1Tq349ozQ8NDur7AVmW43nnfOx/wCiFl0reizG2LBgOh3w+GjjDBwNayUTlEy4pAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"Enable billing\"\n        src=\"/static/09b9c707bd14e49e9a5156f0237aabe6/f058b/enable-billing.png\"\n        srcset=\"/static/09b9c707bd14e49e9a5156f0237aabe6/c26ae/enable-billing.png 158w,\n/static/09b9c707bd14e49e9a5156f0237aabe6/6bdcf/enable-billing.png 315w,\n/static/09b9c707bd14e49e9a5156f0237aabe6/f058b/enable-billing.png 630w,\n/static/09b9c707bd14e49e9a5156f0237aabe6/40601/enable-billing.png 945w,\n/static/09b9c707bd14e49e9a5156f0237aabe6/78612/enable-billing.png 1260w,\n/static/09b9c707bd14e49e9a5156f0237aabe6/c6162/enable-billing.png 2166w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>You will be offered a free trial but you still have to enter a credit card to get it. You don’t really need the free trial for what we will be doing either but no harm setting it up.</p>\n<h4>Create a cluster in GCP</h4>\n<p>If you haven’t authorized gcloud already, do so now like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\ngcloud auth login\n</code></pre></div>\n<p>That should open a browser window where you can login to your google account.</p>\n<p>Now configure the project you created (PROJECT_ID should be replaced with the ID of your project):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\ngcloud config <span class=\"token builtin class-name\">set</span> project PROJECT_ID\n</code></pre></div>\n<p>Configure your desired zone like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\ngcloud config <span class=\"token builtin class-name\">set</span> compute/zone europe-west1-d\n</code></pre></div>\n<p>You can list the available zones with this command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\ngcloud compute zones list\n</code></pre></div>\n<p>Verify the configuration like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\ngcloud config list core/project\n<span class=\"token punctuation\">[</span>core<span class=\"token punctuation\">]</span>\nproject <span class=\"token operator\">=</span> kubernetes-practice-ruairi\n\nYour active configuration is: <span class=\"token punctuation\">[</span>default<span class=\"token punctuation\">]</span>\n</code></pre></div>\n<p>Now create a cluster.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\ngcloud container clusters create my-cool-cluster\n</code></pre></div>\n<p>(probably pick a better cluster name)</p>\n<p>Verify it’s there.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\ngcloud container clusters list\n</code></pre></div>\n<p>You should see something like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nNAME             ZONE           MASTER_VERSION  MASTER_IP       MACHINE_TYPE   NODE_VERSION  NUM_NODES  STATUS\nmy-cool-cluster  europe-west1-d <span class=\"token number\">1.6</span>.4           <span class=\"token number\">130.211</span>.181.72  n1-standard-1  <span class=\"token number\">1.6</span>.4         <span class=\"token number\">1</span>          RUNNING\n</code></pre></div>\n<h3>minikube</h3>\n<p>Minikube basically lets you run kubernetes locally. Follow the instructions here to get it setup:\n<a href=\"https://github.com/kubernetes/minikube\">https://github.com/kubernetes/minikube</a></p>\n<p>With minkube creating a clust is a little easier:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nminikube start\n</code></pre></div>\n<p>You also have the added advantage of not needing to setup a GCP account and all that but it’s only useful for developing stuff locally of course.</p>\n<p>To make sure kubectl is pointing at minikube try this:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl cluster-info\nKubernetes master is running at https://192.168.99.100:8443\nKubeDNS is running at https://192.168.99.100:8443/api/v1/proxy/namespaces/kube-system/services/kube-dns\nkubernetes-dashboard is running at https://192.168.99.100:8443/api/v1/proxy/namespaces/kube-system/services/kubernetes-dashboard\n</code></pre></div>\n<h3>Switching contexts in kubectl</h3>\n<p>If you end up using both GCP and mimikube, it’s useful to easily switch contexts in kubectl</p>\n<p>These commands help:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl config get-contexts\n</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl config use-context <span class=\"token variable\">${context_name}</span>\n</code></pre></div>\n<p>You can also set the context in each call:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl <span class=\"token operator\">&lt;</span>some options here<span class=\"token operator\">></span> <span class=\"token parameter variable\">--context</span><span class=\"token operator\">=</span>minikube\n</code></pre></div>\n<h3>Deploy something</h3>\n<p>For this we can create a simple hello world application and put it in a container. Here’s one I made earlier: <a href=\"https://hub.docker.com/r/ruairitobrien/hello-kubernetes-world/\">https://hub.docker.com/r/ruairitobrien/hello-kubernetes-world/</a></p>\n<p>Note, these instructions should work the same whether you are using GCP or minikube.</p>\n<p>Code for that app is here but nothing interesting there really <a href=\"https://github.com/ruarfff/hello-kubernetes-world\">https://github.com/ruarfff/hello-kubernetes-world</a></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl run hello-kubernetes <span class=\"token parameter variable\">--image</span> ruairitobrien/hello-kubernetes-world:latest\n</code></pre></div>\n<p>You should usually specify a version number so you have a history of deployed versions that you can switch to if needed but ‘:latest’ will do for this tutorial.</p>\n<p>You should see</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\ndeployment <span class=\"token string\">\"hello-kubernetes\"</span> created\n</code></pre></div>\n<p>Verify it worked</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\n$ kubectl get deployments\nNAME               DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE\nhello-kubernetes   <span class=\"token number\">1</span>         <span class=\"token number\">1</span>         <span class=\"token number\">1</span>            <span class=\"token number\">1</span>           1m\n</code></pre></div>\n<p>You can also check the pod that was created:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\n$ kubectl get pods\nNAME                                READY     STATUS    RESTARTS   AGE\nhello-kubernetes-3390701390-jds31   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          1m\n</code></pre></div>\n<p>Pods are an important part of kubernetes but rather than me going on about them it’s best to read up here: <a href=\"https://kubernetes.io/docs/concepts/workloads/pods/pod/\">https://kubernetes.io/docs/concepts/workloads/pods/pod/</a></p>\n<p>It’s also useful to check out the describe functions. Most things have them.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl describe deployment <span class=\"token operator\">&lt;</span>deploymentName<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># Example</span>\nkubectl describe deployment hello-kubernetes\n\nkubectl describe pods <span class=\"token operator\">&lt;</span>podName<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># Example</span>\nkubectl describe pods hello-kubernetes-3390701390-jds31\n</code></pre></div>\n<h3>You have a deployment</h3>\n<p>Now that you have a deployment, what are you going to do with it?</p>\n<p>I am just going to show a few simple things here to give you an idea of what’s available. Most of this and much more can be found [<a href=\"https://kubernetes.io/docs/user-guide/kubectl-cheatsheet/%5D(in\">https://kubernetes.io/docs/user-guide/kubectl-cheatsheet/](in</a> these docs).</p>\n<p>You will probably want to look at logs a bit. You can look at the logs for a pod with this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl logs <span class=\"token operator\">&lt;</span>podName<span class=\"token operator\">></span>\n\n<span class=\"token comment\"># Example</span>\nkubectl logs hello-kubernetes-3390701390-jds31\n</code></pre></div>\n<p>This will give you the logs for this instance of that pod. You can go more in detail, for example in the case where you have a pod with multiple containers. More on that <a href=\"https://kubernetes.io/docs/user-guide/kubectl/v1.6/#logs\">in the kubernetes docs</a>.</p>\n<p>Now let the world see your amazing app!</p>\n<p>First, run get services.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl get services\nNAME         CLUSTER-IP    EXTERNAL-IP   PORT<span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">)</span>   AGE\nkubernetes   <span class=\"token number\">10.55</span>.240.1   <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>        <span class=\"token number\">443</span>/TCP   1h\n</code></pre></div>\n<p>You can see there is no external IP and no mention of the pod we created.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl expose deployment hello-kubernetes <span class=\"token parameter variable\">--type</span> LoadBalancer <span class=\"token parameter variable\">--port</span> <span class=\"token number\">80</span> --target-port<span class=\"token operator\">=</span><span class=\"token number\">8000</span>\n</code></pre></div>\n<p>Here we are using the load balancer option.</p>\n<blockquote>\n<p>LoadBalancer - Creates an external load balancer in the current cloud (if supported) and assigns a fixed, external IP to the Service. Superset of NodePort.</p>\n</blockquote>\n<p>There are other types you can use.</p>\n<blockquote>\n<p>Type for this service: ClusterIP, NodePort, or LoadBalancer. Default is ‘ClusterIP’.</p>\n</blockquote>\n<p>We’re using LoadBalancer because it’s a nice option for us to play around with autoscaling soon.</p>\n<p><code class=\"language-text\">--port</code> is the port we are exposing our service on.</p>\n<p><code class=\"language-text\">--target-port</code> is the port our application in the Docker image happens to be exposed on.</p>\n<p>Wait a minute or so for things to work out and then run this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl describe svc hello-kubernetes\n</code></pre></div>\n<p>You should see something like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nName:\t\t\thello-kubernetes\nNamespace:\t\tdefault\nLabels:\t\t\t<span class=\"token assign-left variable\">run</span><span class=\"token operator\">=</span>hello-kubernetes\nAnnotations:\t\t<span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>\nSelector:\t\t<span class=\"token assign-left variable\">run</span><span class=\"token operator\">=</span>hello-kubernetes\nType:\t\t\tLoadBalancer\nIP:\t\t\t<span class=\"token number\">10.55</span>.243.178\nLoadBalancer Ingress:\t<span class=\"token number\">104.154</span>.182.255\nPort:\t\t\t<span class=\"token operator\">&lt;</span>unset<span class=\"token operator\">></span>\t<span class=\"token number\">80</span>/TCP\nNodePort:\t\t<span class=\"token operator\">&lt;</span>unset<span class=\"token operator\">></span>\t<span class=\"token number\">31390</span>/TCP\nEndpoints:\t\t<span class=\"token number\">10.52</span>.0.5:8000\nSession Affinity:\tNone\n</code></pre></div>\n<p>The ‘Endpoints’ value is the internal ip and port of your application running in the cluster.</p>\n<p>This value: LoadBalancer Ingress: 104.154.182.255 is what we can use to talk to our application externally. Stick the ip address that you see there in your browser and you should see ‘hello kubernetes world’ or whatever you have your application sending back if you wrote your own there.</p>\n<h3>Autoscaling</h3>\n<p>This for me was the first really cool thing I came across when playing around with kubernetes. Now our application is deployed, we can attach an autoscaler to it. Here is a command we can use to do that.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl autoscale deployment hello-kubernetes --cpu-percent<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token parameter variable\">--min</span><span class=\"token operator\">=</span><span class=\"token number\">4</span> <span class=\"token parameter variable\">--max</span><span class=\"token operator\">=</span><span class=\"token number\">12</span>\n</code></pre></div>\n<p>Now we have attached an autoscaler.</p>\n<p><code class=\"language-text\">--cpu-percent</code> will try to average the utilization across all the pods to the percent we set i.e. will scale up until it hits the max amount of pods if cpu utilization goes above 10% on average across all existing pods. We set 1% for demonstration purposes so we have a chance of forcing the cluster to scale up when hitting it from our machine.</p>\n<p><code class=\"language-text\">--min</code> is the minimum amount of pods we want in the cluster.</p>\n<p><code class=\"language-text\">--max</code> is the maximum amount of pods we will allow the autoscaler to provision for us.</p>\n<p>The autoscaler will scale up when cpu is above 10% on average. It will also scale down to the minimum when cpu utilisation is below average.</p>\n<p>Try running this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl describe svc hello-kubernetes\n</code></pre></div>\n<p>You should see something like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nName:\t\t\thello-kubernetes\nNamespace:\t\tdefault\nLabels:\t\t\t<span class=\"token assign-left variable\">run</span><span class=\"token operator\">=</span>hello-kubernetes\nAnnotations:\t\t<span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>\nSelector:\t\t<span class=\"token assign-left variable\">run</span><span class=\"token operator\">=</span>hello-kubernetes\nType:\t\t\tLoadBalancer\nIP:\t\t\t<span class=\"token number\">10.55</span>.245.180\nLoadBalancer Ingress:\t<span class=\"token number\">104.198</span>.145.117\nPort:\t\t\t<span class=\"token operator\">&lt;</span>unset<span class=\"token operator\">></span>\t<span class=\"token number\">80</span>/TCP\nNodePort:\t\t<span class=\"token operator\">&lt;</span>unset<span class=\"token operator\">></span>\t<span class=\"token number\">32063</span>/TCP\nEndpoints:\t\t<span class=\"token number\">10.52</span>.0.5:8000,10.52.2.6:8000,10.52.2.7:8000,10.52.2.8:8000\nSession Affinity:\tNone\n</code></pre></div>\n<p>Notice we now have 4 endpoints. You could see this with <code class=\"language-text\">kubectl get pods</code> too. The autoscaler has already scaled up to meet the minimum requirements we set.</p>\n<p>To see the state of the autoscaler run this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl get hpa\n</code></pre></div>\n<p>You should see something like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nNAME               REFERENCE                     TARGETS   MINPODS   MAXPODS   REPLICAS   AGE\nhello-kubernetes   Deployment/hello-kubernetes   <span class=\"token number\">0</span>% / <span class=\"token number\">1</span>%   <span class=\"token number\">4</span>         <span class=\"token number\">12</span>        <span class=\"token number\">4</span>          1m\n</code></pre></div>\n<p>And just to confirm the number of pods is 4.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl get pods\nNAME                                READY     STATUS    RESTARTS   AGE\nhello-kubernetes-3390701390-jds31   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          3m\nhello-kubernetes-3390701390-q1v74   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          3m\nhello-kubernetes-3390701390-txg9z   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          3m\nhello-kubernetes-3390701390-w6kjg   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          47m\n</code></pre></div>\n<p>Now the fun part. Let’s see autoscaling in action!</p>\n<p>You probably have a better way of doing this (please comment with a suggestion) but what I did here was just run this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\n<span class=\"token keyword\">while</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-XGET</span> <span class=\"token variable\">${IP}</span> <span class=\"token operator\">&amp;</span> <span class=\"token keyword\">done</span>\n\n<span class=\"token comment\"># So for my cluster in the above examples that was</span>\n\n<span class=\"token keyword\">while</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-XGET</span> <span class=\"token number\">104.198</span>.145.117 <span class=\"token operator\">&amp;</span> <span class=\"token keyword\">done</span>\n</code></pre></div>\n<p>Or something a little safer perhaps.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">..</span><span class=\"token number\">1000</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token function\">curl</span> <span class=\"token parameter variable\">-XGET</span> <span class=\"token variable\">${IP}</span> <span class=\"token operator\">&amp;</span> <span class=\"token keyword\">done</span>\n</code></pre></div>\n<p>If you go down the safe route with a limited loop, the timing where you check the following things is important.</p>\n<p>After a while you should start to see autoscaling kicking in:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl get hpa\nNAME               REFERENCE                     TARGETS   MINPODS   MAXPODS   REPLICAS   AGE\nhello-kubernetes   Deployment/hello-kubernetes   <span class=\"token number\">3</span>% / <span class=\"token number\">1</span>%   <span class=\"token number\">4</span>         <span class=\"token number\">12</span>        <span class=\"token number\">8</span>          4m\n</code></pre></div>\n<p>You can see the ‘TARGETS’ ratio (that’s the CPU utilisation) is grown above that which we specified. In my example it’s 3% but the autoscaler wants it to be below 1% on average so it should start scaling up to bring that back in balance.</p>\n<p>Check the new pods getting created.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl get pods\nNAME                                READY     STATUS    RESTARTS   AGE\nhello-kubernetes-3390701390-1ght4   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          39s\nhello-kubernetes-3390701390-2gp0c   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          39s\nhello-kubernetes-3390701390-ddgv0   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          39s\nhello-kubernetes-3390701390-jds31   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          4m\nhello-kubernetes-3390701390-q1v74   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          4m\nhello-kubernetes-3390701390-t6s63   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          39s\nhello-kubernetes-3390701390-txg9z   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          4m\nhello-kubernetes-3390701390-w6kjg   <span class=\"token number\">1</span>/1       Running   <span class=\"token number\">0</span>          48m\n</code></pre></div>\n<p>Don’t forget to while loop! Unless you used the for loop of course.</p>\n<p>After a minute or 2 check again.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl get hpa\nNAME               REFERENCE                     TARGETS   MINPODS   MAXPODS   REPLICAS   AGE\nhello-kubernetes   Deployment/hello-kubernetes   <span class=\"token number\">0</span>% / <span class=\"token number\">1</span>%   <span class=\"token number\">4</span>         <span class=\"token number\">12</span>        <span class=\"token number\">8</span>          8m\n</code></pre></div>\n<p>See the pods are terminating.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\nkubectl get pods\nNAME                                READY     STATUS        RESTARTS   AGE\nhello-kubernetes-3390701390-1ght4   <span class=\"token number\">1</span>/1       Terminating   <span class=\"token number\">0</span>          5m\nhello-kubernetes-3390701390-2gp0c   <span class=\"token number\">1</span>/1       Terminating   <span class=\"token number\">0</span>          5m\nhello-kubernetes-3390701390-ddgv0   <span class=\"token number\">1</span>/1       Terminating   <span class=\"token number\">0</span>          5m\nhello-kubernetes-3390701390-jds31   <span class=\"token number\">1</span>/1       Running       <span class=\"token number\">0</span>          9m\nhello-kubernetes-3390701390-q1v74   <span class=\"token number\">1</span>/1       Running       <span class=\"token number\">0</span>          9m\nhello-kubernetes-3390701390-t6s63   <span class=\"token number\">1</span>/1       Terminating   <span class=\"token number\">0</span>          5m\nhello-kubernetes-3390701390-txg9z   <span class=\"token number\">1</span>/1       Running       <span class=\"token number\">0</span>          9m\nhello-kubernetes-3390701390-w6kjg   <span class=\"token number\">1</span>/1       Running       <span class=\"token number\">0</span>          53m\n</code></pre></div>\n<p>They may already be gone depending how long you waited to check.</p>\n<p>Maybe I am too easily impressed but I just think that is cool! Anyway, that was a brief run through of some of the basic Kubernetes features and barely scratches the surface of what is there.</p>","frontmatter":{"title":"Introduction to Kubernetes","date":"June 27, 2017","description":null}},"previous":{"fields":{"slug":"/firing-phasers/"},"frontmatter":{"title":"Start Game Coding in ES6"}},"next":{"fields":{"slug":"/angular-and-redux/"},"frontmatter":{"title":"Where to put Angular with Redux"}}},"pageContext":{"id":"d67f5521-63b8-5c4f-bd51-a2ed25e76407","previousPostId":"0c0d5cea-3828-532a-9ced-97e33f329aba","nextPostId":"9fb8b0ac-f33d-5d5a-aea7-f93710202fed"}},"staticQueryHashes":["2841359383","916993862"]}