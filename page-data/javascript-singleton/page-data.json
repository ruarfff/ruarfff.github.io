{"componentChunkName":"component---src-templates-blog-post-js","path":"/javascript-singleton/","result":{"data":{"site":{"siteMetadata":{"title":"Ruairí's Blog"}},"markdownRemark":{"id":"6a645509-1002-54f0-9508-3b7b6a77c2cc","excerpt":"If you are new to JavaScript but have learned to program in Java, C++, C# or some other C based object orientated language then you might think JavaScript is a…","html":"<p>If you are new to JavaScript but have learned to program in Java, C++, C# or some other C based object orientated language then you might think JavaScript is a bit weird. I straight away found myself wondering why I can’t make a class. The whole variable scope thing got to me a bit too but eventually I found that these are minor issues with many methods to overcome them. Also nowadays you can just use something like CoffeeScript which compiles to JavaScript but offers better syntax and stuff like classes.</p>\n<p>That said, you will probably just end up coding in JavaScript most of the time, if you’re doing web development. Here I am going to give an example of how I usually create a JavaScript singleton.</p>\n<p>If you’re thinking – what is a singleton? – checkout this <a href=\"http://wiki.c2.com/?SingletonPattern\">great wiki page on the singleton pattern</a>.</p>\n<p>Also if you haven’t already heard of <a href=\"https://jsfiddle.net/\">JS Fiddle</a>, it is a great tool to practice JavaScript code that you could use to follow along here.</p>\n<p>Basically – in my opinion – the easiest way to implement a JavaScript Singleton is to use the module pattern with a self calling function. If you are attempting to organize your JavaScript code or make it look more like other class based languages you will generally end up using some variation of either the module or prototype pattern.</p>\n<p>The module pattern looks a bit better than the prototype pattern with less typing involved. The prototype pattern is part of, and supported by, standard JavaScript as well as being more efficient in memory usage but that is a subject for another post.</p>\n<p>To implement a singleton pattern in JavaScript it is easier to just use the module pattern.</p>\n<p>Here is a quick example:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> singleton <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> hello <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span>\n  <span class=\"token keyword\">var</span> howMany <span class=\"token operator\">=</span> <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"There can be only one\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    hello<span class=\"token operator\">:</span> hello<span class=\"token punctuation\">,</span>\n    sayHowManyOfMeExist<span class=\"token operator\">:</span> howMany<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>singleton<span class=\"token punctuation\">.</span>hello<span class=\"token punctuation\">)</span>\nsingleton<span class=\"token punctuation\">.</span>sayHowManyOfMeExist</code></pre></div>\n<p>This will give 2 alerts, the first saying hello, the second saying there can be only one.</p>\n<p>It’s worth noting the hello variable is private so something like this would not work:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> singleton <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> hello <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>singleton<span class=\"token punctuation\">.</span>hello<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Also if you go doing something crazy like</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">singleton</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>you will end with an ‘object is not a function’ error.</p>","frontmatter":{"title":"JavaScript Singleton","date":"February 17, 2012","description":null}},"previous":{"fields":{"slug":"/java-singleton/"},"frontmatter":{"title":"Java Singleton"}},"next":{"fields":{"slug":"/communication/"},"frontmatter":{"title":"About Communication"}}},"pageContext":{"id":"6a645509-1002-54f0-9508-3b7b6a77c2cc","previousPostId":"51698b62-0d2f-50f2-8c25-65630e208f9f","nextPostId":"e7553e2e-156f-53af-98aa-292c396e4e8a"}},"staticQueryHashes":["2841359383","916993862"]}